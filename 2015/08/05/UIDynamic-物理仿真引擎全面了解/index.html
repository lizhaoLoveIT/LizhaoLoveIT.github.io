<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>UIDynamic 物理仿真引擎全面了解 | Ammar's Blog</title><meta name="description" content="UIDynamic 物理仿真引擎全面了解"><meta name="keywords" content="iOS"><meta name="author" content="Ammar"><meta name="copyright" content="Ammar"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.1/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="canonical" href="http://lizhaoloveit.cn/2015/08/05/UIDynamic-%E7%89%A9%E7%90%86%E4%BB%BF%E7%9C%9F%E5%BC%95%E6%93%8E%E5%85%A8%E9%9D%A2%E4%BA%86%E8%A7%A3/"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="UIDynamic 物理仿真引擎全面了解"><meta name="twitter:description" content="UIDynamic 物理仿真引擎全面了解"><meta name="twitter:image" content="https://lizhaoloveit.cn/blogimages/blog/avatar.jpg"><meta property="og:type" content="article"><meta property="og:title" content="UIDynamic 物理仿真引擎全面了解"><meta property="og:url" content="http://lizhaoloveit.cn/2015/08/05/UIDynamic-%E7%89%A9%E7%90%86%E4%BB%BF%E7%9C%9F%E5%BC%95%E6%93%8E%E5%85%A8%E9%9D%A2%E4%BA%86%E8%A7%A3/"><meta property="og:site_name" content="Ammar's Blog"><meta property="og:description" content="UIDynamic 物理仿真引擎全面了解"><meta property="og:image" content="https://lizhaoloveit.cn/blogimages/blog/avatar.jpg"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="prev" title="CoreLocation框架" href="http://lizhaoloveit.cn/2015/09/16/CoreLocation%E6%A1%86%E6%9E%B6/"><link rel="next" title="Swift高阶函数的使用" href="http://lizhaoloveit.cn/2015/07/30/Swift%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%BF%E7%94%A8/"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.css"><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.js" defer></script><link rel="dns-prefetch" href="https://hm.baidu.com"><script><!-- hexo-inject:begin --><!-- hexo-inject:end -->var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?162506e75ffd64287398566b2f5738c8";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();</script><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: {"appId":"VRMKRAV9AT","apiKey":"bd7157400046d0f02396708a501a3480","indexName":"lizhaoloveit","hits":{"per_page":6},"languages":{"input_placeholder":"搜索文章","hits_empty":"找不到您查询的内容:${query}","hits_stats":"找到 ${hits} 条结果，用时 ${time} 毫秒"}},
  localSearch: undefined,
  translate: {"defaultEncoding":1,"translateDelay":0,"cookieDomain":"https://lizhaoloveit.cn/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  highlight_copy: 'true',
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    title: '添加书签',
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天'

  
}</script><meta name="generator" content="Hexo 4.2.1"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#三个概念"><span class="toc-number">1.</span> <span class="toc-text">三个概念</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#物理仿真元素（Dynamic-Item）"><span class="toc-number">1.1.</span> <span class="toc-text">物理仿真元素（Dynamic Item）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#物理仿真行为（Dynamic-Behavior）"><span class="toc-number">1.2.</span> <span class="toc-text">物理仿真行为（Dynamic Behavior）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#物理仿真器（Dynamic-Animator）"><span class="toc-number">1.3.</span> <span class="toc-text">物理仿真器（Dynamic Animator）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#UIDynamicAnimator-的常见方法"><span class="toc-number">1.3.1.</span> <span class="toc-text">UIDynamicAnimator 的常见方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UIDynamicAnimator的常见属性"><span class="toc-number">1.3.2.</span> <span class="toc-text">UIDynamicAnimator的常见属性</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#使用步骤"><span class="toc-number">2.</span> <span class="toc-text">使用步骤</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UIGravityBehavior-重力行为"><span class="toc-number">3.</span> <span class="toc-text">UIGravityBehavior 重力行为</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#常用方法："><span class="toc-number">3.1.</span> <span class="toc-text">常用方法：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#UIGravityBehavior常见属性"><span class="toc-number">3.2.</span> <span class="toc-text">UIGravityBehavior常见属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#code"><span class="toc-number">3.3.</span> <span class="toc-text">code</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UICollisionBehavior-碰撞行为"><span class="toc-number">4.</span> <span class="toc-text">UICollisionBehavior 碰撞行为</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#UICollisionBehavior-边界相关的方法"><span class="toc-number">4.1.</span> <span class="toc-text">UICollisionBehavior 边界相关的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#UICollisionBehavior-常见用法"><span class="toc-number">4.2.</span> <span class="toc-text">UICollisionBehavior 常见用法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#code-1"><span class="toc-number">4.3.</span> <span class="toc-text">code</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UISnapBehavior-捕捉行为"><span class="toc-number">5.</span> <span class="toc-text">UISnapBehavior 捕捉行为</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#UISnapBehavior的初始化"><span class="toc-number">5.1.</span> <span class="toc-text">UISnapBehavior的初始化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#UISnapBehavior常见属性"><span class="toc-number">5.2.</span> <span class="toc-text">UISnapBehavior常见属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#code-2"><span class="toc-number">5.3.</span> <span class="toc-text">code</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UIPushBehavior-推动行为"><span class="toc-number">6.</span> <span class="toc-text">UIPushBehavior 推动行为</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UIAttachmentBehavior：附着行为"><span class="toc-number">7.</span> <span class="toc-text">UIAttachmentBehavior：附着行为</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UIDynamicItemBehavior：动力元素行为"><span class="toc-number">8.</span> <span class="toc-text">UIDynamicItemBehavior：动力元素行为</span></a></li></ol></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://lizhaoloveit.cn/blogimages/blog/top_img.jpg)"><div id="page-header"><span class="pull-left"> <a class="blog_title" id="site-name" href="/">Ammar's Blog</a></span><div class="open toggle-menu pull-right"><div class="menu-icon-first"></div><div class="menu-icon-second"></div><div class="menu-icon-third"></div></div><span class="pull-right menus"><div class="mobile_author_icon"><img class="lozad" data-src="https://lizhaoloveit.cn/blogimages/blog/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'"><div class="mobile_author-info__description">微信号：aicjaish</div></div><hr><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a><a class="site-page" href="/comment/"><i class="fa-fw fa fa-coffee"></i><span> 留言</span></a><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a><script>document.body.addEventListener('touchstart', function(){ });</script></div></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></span></div><div id="post-info"><div id="post-title"><div class="posttitle">UIDynamic 物理仿真引擎全面了解</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2015-08-05<span class="post-meta__separator">|</span><i class="fa fa-history" aria-hidden="true"></i> 更新于 2019-07-27</time><span class="post-meta__separator mobile_hidden">|</span><span class="mobile_hidden"><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/iOS/">iOS</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/iOS/CoreAnimation/">CoreAnimation</a></span><div class="post-meta-wordcount"><span>字数总计: </span><span class="word-count">2.5k</span><span class="post-meta__separator">|</span><span>阅读时长: 9 分钟</span></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><p><strong>什么是UIDynamic</strong></p>
<!-- hexo-inject:begin --><!-- hexo-inject:end --><p>UIDynamic 是从 iOS 7开始引入的一种新技术，隶属于UIKit框架可以认为是一种物理引擎，能模拟和仿真现实生活中的物理现象，如：重力、弹性碰撞等现象</p>
<p><strong>物理引擎的价值</strong></p>
<p>广泛用于游戏开发，经典成功案例是“愤怒的小鸟”让开发人员可以在远离物理学公式的情况下，实现炫酷的物理仿真效果提高了游戏开发效率，产生更多优秀好玩的物理仿真游戏</p>
<p><strong>知名的2D物理引擎</strong></p>
<p>Box2d<br>Chipmunk</p>
<h2 id="三个概念"><a href="#三个概念" class="headerlink" title="三个概念"></a>三个概念</h2><h3 id="物理仿真元素（Dynamic-Item）"><a href="#物理仿真元素（Dynamic-Item）" class="headerlink" title="物理仿真元素（Dynamic Item）"></a>物理仿真元素（Dynamic Item）</h3><p>谁要进行物理仿真？</p>
<p>物理仿真元素要素：<br>任何遵守了UIDynamicItem协议的对象</p>
<blockquote>
<p>UIView 默认已经遵守了 UIDynamicItem 协议，因此任何 UI 控件都能做物理仿真 UICollectionViewLayoutAttributes 类默认也遵守 UIDynamicItem 协议 </p>
</blockquote>
<p><strong>注意：不是任何对象都能做物理仿真元素，不是任何对象都能进行物理仿真</strong></p>
<h3 id="物理仿真行为（Dynamic-Behavior）"><a href="#物理仿真行为（Dynamic-Behavior）" class="headerlink" title="物理仿真行为（Dynamic Behavior）"></a>物理仿真行为（Dynamic Behavior）</h3><p>执行怎样的物理仿真效果？怎样的动画效果？ </p>
<p><strong>UIDynamic提供了以下几种物理仿真行为：</strong></p>
<ul>
<li>UIGravityBehavior：重力行为</li>
<li>UICollisionBehavior：碰撞行为 </li>
<li>UISnapBehavior：捕捉行为</li>
<li>UIPushBehavior：推动行为</li>
<li>UIAttachmentBehavior：附着行为</li>
<li>UIDynamicItemBehavior：动力元素行为</li>
</ul>
<blockquote>
<p>上述所有物理仿真行为都继承自 UIDynamicBehavior<br>所有的 UIDynamicBehavior 都可以独立进行，组合使用多种行为时，可以实现一些比较复杂的效果</p>
</blockquote>
<h3 id="物理仿真器（Dynamic-Animator）"><a href="#物理仿真器（Dynamic-Animator）" class="headerlink" title="物理仿真器（Dynamic Animator）"></a>物理仿真器（Dynamic Animator）</h3><p>让物理仿真元素执行具体的物理仿真行为，UIDynamicAnimator 类型的对象</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">instancetype</span>)initWithReferenceView:(<span class="built_in">UIView</span> *)view;</span><br></pre></td></tr></table></figure>
<p>view参数：是一个参照视图，表示物理仿真的范围</p>
<h4 id="UIDynamicAnimator-的常见方法"><a href="#UIDynamicAnimator-的常见方法" class="headerlink" title="UIDynamicAnimator 的常见方法"></a>UIDynamicAnimator 的常见方法</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//添加1个物理仿真行为</span></span><br><span class="line">- (<span class="keyword">void</span>)addBehavior:(<span class="built_in">UIDynamicBehavior</span> *)behavior;  　</span><br><span class="line">　</span><br><span class="line"><span class="comment">//移除1个物理仿真行为</span></span><br><span class="line">- (<span class="keyword">void</span>)removeBehavior:(<span class="built_in">UIDynamicBehavior</span> *)behavior;　</span><br><span class="line"></span><br><span class="line"><span class="comment">//移除之前添加过的所有物理仿真行为　</span></span><br><span class="line">- (<span class="keyword">void</span>)removeAllBehaviors;</span><br></pre></td></tr></table></figure>

<h4 id="UIDynamicAnimator的常见属性"><a href="#UIDynamicAnimator的常见属性" class="headerlink" title="UIDynamicAnimator的常见属性"></a>UIDynamicAnimator的常见属性</h4><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//参照视图 </span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">readonly</span>) <span class="built_in">UIView</span>* referenceView;</span><br><span class="line">  </span><br><span class="line"><span class="comment">//添加到物理仿真器中的所有物理仿真行为</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">readonly</span>, <span class="keyword">copy</span>) <span class="built_in">NSArray</span>* behaviors;</span><br><span class="line"></span><br><span class="line"><span class="comment">//是否正在进行物理仿真</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">readonly</span>, <span class="keyword">getter</span> = isRunning) <span class="built_in">BOOL</span> running;</span><br><span class="line"></span><br><span class="line"><span class="comment">//代理对象（能监听物理仿真器的仿真过程，比如开始和结束</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>) <span class="keyword">id</span> &lt;<span class="built_in">UIDynamicAnimatorDelegate</span>&gt; delegate;）</span><br></pre></td></tr></table></figure>

<h2 id="使用步骤"><a href="#使用步骤" class="headerlink" title="使用步骤"></a>使用步骤</h2><p>要想使用UIDynamic来实现物理仿真效果，大致的步骤如下</p>
<ol>
<li>创建一个物理仿真器（顺便设置仿真范围）</li>
<li>创建相应的物理仿真行为（顺便添加物理仿真元素）</li>
<li>将物理仿真行为添加到物理仿真器中开始仿真</li>
</ol>
<p>下面将详细介绍所有的物理仿真行为，并附上示例代码</p>
<h2 id="UIGravityBehavior-重力行为"><a href="#UIGravityBehavior-重力行为" class="headerlink" title="UIGravityBehavior 重力行为"></a>UIGravityBehavior 重力行为</h2><p><img src="http://7xjanq.com1.z0.glb.clouddn.com/UIDynamic0.png"></p>
<p>说明：给定重力方向、加速度，让物体朝着重力方向掉落</p>
<h3 id="常用方法："><a href="#常用方法：" class="headerlink" title="常用方法："></a>常用方法：</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// UIGravityBehavior的初始化，item参数 ：里面存放着物理仿真元素</span></span><br><span class="line">- (<span class="keyword">instancetype</span>)initWithItems:(<span class="built_in">NSArray</span> *)items;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 添加1个物理仿真元素</span></span><br><span class="line">- (<span class="keyword">void</span>)addItem:(<span class="keyword">id</span> &lt;<span class="built_in">UIDynamicItem</span>&gt;)item;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 移除1个物理仿真元素</span></span><br><span class="line">- (<span class="keyword">void</span>)removeItem:(<span class="keyword">id</span> &lt;<span class="built_in">UIDynamicItem</span>&gt;)item;</span><br></pre></td></tr></table></figure>

<h3 id="UIGravityBehavior常见属性"><a href="#UIGravityBehavior常见属性" class="headerlink" title="UIGravityBehavior常见属性"></a>UIGravityBehavior常见属性</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 添加到重力行为中的所有物理仿真元素</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">readonly</span>, <span class="keyword">copy</span>) <span class="built_in">NSArray</span>* items;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 重力方向（是一个二维向量）</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">readwrite</span>, <span class="keyword">nonatomic</span>) <span class="built_in">CGVector</span> gravityDirection;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 重力方向（是一个角度，以x轴正方向为0°，顺时针正数，逆时针负数）</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">readwrite</span>, <span class="keyword">nonatomic</span>) <span class="built_in">CGFloat</span> angle;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 量级（用来控制加速度，1.0代表加速度是1000 points /second²）</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">readwrite</span>, <span class="keyword">nonatomic</span>) <span class="built_in">CGFloat</span> magnitude;</span><br></pre></td></tr></table></figure>

<h3 id="code"><a href="#code" class="headerlink" title="code"></a>code</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.创建重力行为</span></span><br><span class="line"><span class="built_in">UIGravityBehavior</span> *gravity = [[<span class="built_in">UIGravityBehavior</span> alloc] init];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.添加仿真元素</span></span><br><span class="line">[gravity addItem:<span class="keyword">self</span>.purperView];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.让物理仿真元素执行仿真行为</span></span><br><span class="line">[<span class="keyword">self</span>.animator addBehavior:gravity];</span><br></pre></td></tr></table></figure>


<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 检测重力属性</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">- (<span class="keyword">void</span>)gravityProperty</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 1.重力行为</span></span><br><span class="line">    <span class="built_in">UIGravityBehavior</span> *gravity = [[<span class="built_in">UIGravityBehavior</span> alloc]init];</span><br><span class="line">    <span class="comment">// 设置重力的方向（角度）x 轴正方向为0点，顺时针为正，逆时针为负</span></span><br><span class="line">    <span class="comment">//        gravity.angle = (M_PI_4);</span></span><br><span class="line">    <span class="comment">// 设置重力的加速度,重力的加速度越大，碰撞就越厉害</span></span><br><span class="line">    gravity.magnitude = <span class="number">100</span>;</span><br><span class="line">    <span class="comment">// 设置重力的方向（是一个二维向量）</span></span><br><span class="line">    gravity.gravityDirection=<span class="built_in">CGVectorMake</span>(<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">    [gravity addItem:<span class="keyword">self</span>.purperView];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 碰撞检测行为</span></span><br><span class="line">    <span class="built_in">UICollisionBehavior</span> *collision = [[<span class="built_in">UICollisionBehavior</span> alloc] init];</span><br><span class="line">    [collision addItem:<span class="keyword">self</span>.purperView];</span><br><span class="line">    [collision addItem:<span class="keyword">self</span>.block1];</span><br><span class="line">    [collision addItem:<span class="keyword">self</span>.block2];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 让参照视图的边框成为碰撞检测的边界</span></span><br><span class="line">    collision.translatesReferenceBoundsIntoBoundary = <span class="literal">YES</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//3.执行仿真</span></span><br><span class="line">    [<span class="keyword">self</span>.animator addBehavior:gravity];</span><br><span class="line">    [<span class="keyword">self</span>.animator addBehavior:collision];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="UICollisionBehavior-碰撞行为"><a href="#UICollisionBehavior-碰撞行为" class="headerlink" title="UICollisionBehavior 碰撞行为"></a>UICollisionBehavior 碰撞行为</h2><p>可以让物体之间实现碰撞效果，可以通过添加边界（boundary），让物理碰撞局限在某个空间中</p>
<h3 id="UICollisionBehavior-边界相关的方法"><a href="#UICollisionBehavior-边界相关的方法" class="headerlink" title="UICollisionBehavior 边界相关的方法"></a>UICollisionBehavior 边界相关的方法</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)addBoundaryWithIdentifier:(<span class="keyword">id</span> &lt;<span class="built_in">NSCopying</span>&gt;)identifier forPath:(<span class="built_in">UIBezierPath</span>*)bezierPath;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)addBoundaryWithIdentifier:(<span class="keyword">id</span> &lt;<span class="built_in">NSCopying</span>&gt;)identifier fromPoint:(<span class="built_in">CGPoint</span>)p1 toPoint:(<span class="built_in">CGPoint</span>)p2;</span><br><span class="line"></span><br><span class="line">- (<span class="built_in">UIBezierPath</span>*)boundaryWithIdentifier:(<span class="keyword">id</span> &lt;<span class="built_in">NSCopying</span>&gt;)identifier;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)removeBoundaryWithIdentifier:(<span class="keyword">id</span> &lt;<span class="built_in">NSCopying</span>&gt;)identifier;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">readonly</span>, <span class="keyword">copy</span>) <span class="built_in">NSArray</span>* boundaryIdentifiers;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)removeAllBoundaries;</span><br></pre></td></tr></table></figure>
<h3 id="UICollisionBehavior-常见用法"><a href="#UICollisionBehavior-常见用法" class="headerlink" title="UICollisionBehavior 常见用法"></a>UICollisionBehavior 常见用法</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 是否以参照视图的bounds为边界</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">readwrite</span>) <span class="built_in">BOOL</span> translatesReferenceBoundsIntoBoundary;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置参照视图的bounds为边界，并且设置内边距</span></span><br><span class="line">- (<span class="keyword">void</span>)setTranslatesReferenceBoundsIntoBoundaryWithInsets:(<span class="built_in">UIEdgeInsets</span>)insets;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 碰撞模式（分为3种，元素碰撞、边界碰撞、全体碰撞）</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">readwrite</span>) <span class="built_in">UICollisionBehaviorMode</span> collisionMode;</span><br><span class="line"></span><br><span class="line"><span class="comment">//　代理对象（可以监听元素的碰撞过程）</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>, <span class="keyword">readwrite</span>) <span class="keyword">id</span> &lt;<span class="built_in">UICollisionBehaviorDelegate</span>&gt; collisionDelegate;</span><br></pre></td></tr></table></figure>

<h3 id="code-1"><a href="#code-1" class="headerlink" title="code"></a>code</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 重力和碰撞行为</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">- (<span class="keyword">void</span>)gravityAndCollision</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 重力行为</span></span><br><span class="line">    <span class="built_in">UIGravityBehavior</span> *gravity = [[<span class="built_in">UIGravityBehavior</span> alloc] init];</span><br><span class="line">    </span><br><span class="line">    [gravity addItem:<span class="keyword">self</span>.purperView];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 碰撞行为</span></span><br><span class="line">    <span class="built_in">UICollisionBehavior</span> *collision = [[<span class="built_in">UICollisionBehavior</span> alloc] init];</span><br><span class="line">    [collision addItem:<span class="keyword">self</span>.purperView];</span><br><span class="line">    [collision addItem:<span class="keyword">self</span>.block1];</span><br><span class="line">    [collision addItem:<span class="keyword">self</span>.block2];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 让参照视图的边框成为碰撞边界</span></span><br><span class="line">    collision.translatesReferenceBoundsIntoBoundary = <span class="literal">YES</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 执行仿真</span></span><br><span class="line">    [<span class="keyword">self</span>.animator addBehavior:gravity];</span><br><span class="line">    [<span class="keyword">self</span>.animator addBehavior:collision];</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 自定义碰撞边界</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">- (<span class="keyword">void</span>)customBounds</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 1.重力行为</span></span><br><span class="line">    <span class="built_in">UIGravityBehavior</span> *gravity = [[<span class="built_in">UIGravityBehavior</span> alloc] init];</span><br><span class="line">    [gravity addItem:<span class="keyword">self</span>.purperView];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 2.碰撞检测行为</span></span><br><span class="line">    <span class="built_in">UICollisionBehavior</span> *collision = [[<span class="built_in">UICollisionBehavior</span> alloc] init];</span><br><span class="line">    [collision addItem:<span class="keyword">self</span>.purperView];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 添加一个椭圆为碰撞边界 被矩形包裹的圆</span></span><br><span class="line">    <span class="built_in">UIBezierPath</span> *path = [<span class="built_in">UIBezierPath</span> bezierPathWithOvalInRect:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">320</span>, <span class="number">320</span>)];</span><br><span class="line">    <span class="comment">// 注意：标识符不能写空。可以写字符串，因为需要标识符需要遵守NSCopying协议，而字符串满足要求。</span></span><br><span class="line">    [collision addBoundaryWithIdentifier:<span class="string">@"circle"</span> forPath:path];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 3.开始仿真</span></span><br><span class="line">    [<span class="keyword">self</span>.animator addBehavior:gravity];</span><br><span class="line">    [<span class="keyword">self</span>.animator addBehavior:collision];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 绘制碰撞边界曲线</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">- (<span class="keyword">void</span>)makeBoundsPath</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 1.重力行为</span></span><br><span class="line">    <span class="built_in">UIGravityBehavior</span> *gravity = [[<span class="built_in">UIGravityBehavior</span> alloc] init];</span><br><span class="line">    [gravity addItem:<span class="keyword">self</span>.purperView];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 2.碰撞检测行为</span></span><br><span class="line">    <span class="built_in">UICollisionBehavior</span> *collision = [[<span class="built_in">UICollisionBehavior</span> alloc] init];</span><br><span class="line">    [collision addItem:<span class="keyword">self</span>.purperView];</span><br><span class="line">    <span class="built_in">CGPoint</span> startP = <span class="built_in">CGPointMake</span>(<span class="number">0</span>, <span class="number">160</span>);</span><br><span class="line">    <span class="built_in">CGPoint</span> endP = <span class="built_in">CGPointMake</span>(<span class="number">320</span>, <span class="number">400</span>);</span><br><span class="line">    [collision addBoundaryWithIdentifier:<span class="string">@"line1"</span> fromPoint:startP toPoint:endP];</span><br><span class="line">    <span class="built_in">CGPoint</span> startP1 = <span class="built_in">CGPointMake</span>(<span class="number">320</span>, <span class="number">0</span>);</span><br><span class="line">    [collision addBoundaryWithIdentifier:<span class="string">@"line2"</span> fromPoint:startP1 toPoint:endP];</span><br><span class="line">    <span class="comment">//    collision.translatesReferenceBoundsIntoBoundary = YES;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 3.开始仿真</span></span><br><span class="line">    [<span class="keyword">self</span>.animator addBehavior:gravity];</span><br><span class="line">    [<span class="keyword">self</span>.animator addBehavior:collision];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="UISnapBehavior-捕捉行为"><a href="#UISnapBehavior-捕捉行为" class="headerlink" title="UISnapBehavior 捕捉行为"></a>UISnapBehavior 捕捉行为</h2><p>可以让物体迅速冲到某个位置（捕捉位置），捕捉到位置之后会带有一定的震动</p>
<h3 id="UISnapBehavior的初始化"><a href="#UISnapBehavior的初始化" class="headerlink" title="UISnapBehavior的初始化"></a>UISnapBehavior的初始化</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">instancetype</span>)initWithItem:(<span class="keyword">id</span> &lt;<span class="built_in">UIDynamicItem</span>&gt;)item snapToPoint:(<span class="built_in">CGPoint</span>)point;</span><br></pre></td></tr></table></figure>

<h3 id="UISnapBehavior常见属性"><a href="#UISnapBehavior常见属性" class="headerlink" title="UISnapBehavior常见属性"></a>UISnapBehavior常见属性</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 用于减幅、减震（取值范围是0.0 ~ 1.0，值越大，震动幅度越小）</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">assign</span>) <span class="built_in">CGFloat</span> damping;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：</p>
</blockquote>
<blockquote>
<p>如果要进行连续的捕捉行为，需要先把前面的捕捉行为从物理仿真器中移除</p>
</blockquote>
<h3 id="code-2"><a href="#code-2" class="headerlink" title="code"></a>code</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取触摸点</span></span><br><span class="line"><span class="built_in">UITouch</span> *touch = [touches anyObject];</span><br><span class="line"><span class="built_in">CGPoint</span> point = [touch locationInView:<span class="keyword">self</span>.view];</span><br><span class="line">    </span><br><span class="line"><span class="comment">// 需要两个参数，一个是物理仿真元素，一个是捕捉点</span></span><br><span class="line"><span class="built_in">UISnapBehavior</span> *snap = [[<span class="built_in">UISnapBehavior</span> alloc] initWithItem:<span class="keyword">self</span>.purperView snapToPoint:point];</span><br><span class="line">    </span><br><span class="line"><span class="comment">// 设置防震系数，数值越大，震动的幅度越小 范围 0 ~ 1</span></span><br><span class="line">snap.damping = arc4random_uniform(<span class="number">10</span>) / <span class="number">10.0</span>;</span><br><span class="line">    </span><br><span class="line"><span class="comment">// 添加新的仿真行为前要删除以前的仿真行为</span></span><br><span class="line">[<span class="keyword">self</span>.animator removeAllBehaviors];</span><br><span class="line">    </span><br><span class="line"><span class="comment">// 添加仿真行为</span></span><br><span class="line">[<span class="keyword">self</span>.animator addBehavior:snap];</span><br></pre></td></tr></table></figure>


<h2 id="UIPushBehavior-推动行为"><a href="#UIPushBehavior-推动行为" class="headerlink" title="UIPushBehavior 推动行为"></a>UIPushBehavior 推动行为</h2><p>需要结合示例来说明如何使用</p>
<p>请看考<a href="https://github.com/lizhaoLoveIT/UIDynamic" target="_blank" rel="noopener">UIPushBehavior文件夹</a></p>
<p>初始化方法和常用的属性：</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UIPushBehavior</span> *pushBehavior = [[<span class="built_in">UIPushBehavior</span> alloc] initWithItems:@[<span class="keyword">self</span>.image] mode:<span class="built_in">UIPushBehaviorModeInstantaneous</span>];</span><br><span class="line">                </span><br><span class="line"><span class="comment">// vector 矢量 ，控制 push 的方向</span></span><br><span class="line">pushBehavior.pushDirection = <span class="built_in">CGVectorMake</span>((velocity.x / <span class="number">10</span>) , (velocity.y / <span class="number">10</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// magnitude 的属性控制 push 的快慢 必须慢慢试才能找出最合适的值</span></span><br><span class="line">pushBehavior.magnitude = magnitude / ThrowingVelocityPadding;</span><br><span class="line">                </span><br><span class="line"><span class="keyword">self</span>.pushBehavior = pushBehavior;</span><br><span class="line">[<span class="keyword">self</span>.animator addBehavior:<span class="keyword">self</span>.pushBehavior];</span><br></pre></td></tr></table></figure>

<h2 id="UIAttachmentBehavior：附着行为"><a href="#UIAttachmentBehavior：附着行为" class="headerlink" title="UIAttachmentBehavior：附着行为"></a>UIAttachmentBehavior：附着行为</h2><p>有关 API 详细的解释见：<a href="https://developer.apple.com/library/prerelease/ios/documentation/UIKit/Reference/UIAttachmentBehavior_Class/#//apple_ref/occ/instp/UIAttachmentBehavior/frequency" target="_blank" rel="noopener">UIAttachmentBehavior Class Reference</a></p>
<p>具体来说就是我手怎么动，UIAttachmentBehavior 指定的 view 就怎么动</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">IBAction</span>)handleAttachmentGesture:(<span class="built_in">UIPanGestureRecognizer</span> *)pan</span><br><span class="line">&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 在手势开始时添加 物理仿真行为</span></span><br><span class="line">    <span class="keyword">if</span> (pan.state == <span class="built_in">UIGestureRecognizerStateBegan</span>) &#123;</span><br><span class="line">        <span class="comment">// 首先要移除物理仿真行为</span></span><br><span class="line">        [<span class="keyword">self</span>.animator removeAllBehaviors];</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 获取手势在 view 容器中的位置</span></span><br><span class="line">        <span class="built_in">CGPoint</span> location = [pan locationInView:<span class="keyword">self</span>.view];</span><br><span class="line">        <span class="comment">// 获取手势在 lightBlueView 中的位置</span></span><br><span class="line">        <span class="built_in">CGPoint</span> boxLocation = [pan locationInView:<span class="keyword">self</span>.lightBlueView];</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 以 lightBlueView 为参考坐标系，计算触摸点到 lightBlueView 中点的偏移量</span></span><br><span class="line">        <span class="built_in">UIOffset</span> offset = <span class="built_in">UIOffsetMake</span>(boxLocation.x - <span class="built_in">CGRectGetMidX</span>(<span class="keyword">self</span>.lightBlueView.bounds), boxLocation.y - <span class="built_in">CGRectGetMidY</span>(<span class="keyword">self</span>.lightBlueView.bounds));</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 创建物理仿真行为</span></span><br><span class="line">        <span class="keyword">self</span>.attach = [[<span class="built_in">UIAttachmentBehavior</span> alloc] initWithItem:<span class="keyword">self</span>.lightBlueView offsetFromCenter:offset attachedToAnchor:location];</span><br><span class="line">        </span><br><span class="line">        [<span class="keyword">self</span>.animator addBehavior:<span class="keyword">self</span>.attach];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span>.attach setAnchorPoint:[pan locationInView:<span class="keyword">self</span>.view]];</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>iOS9以后又新推出了一些方法，我大概看了一下，基本都是做小游戏的，使用这些方法你可以创造一个接近真实的世界，比如一个大风车在转，而每个扇叶顶端都有一个附着的舀水的东东就可以用 UIAttachmentBehavior 实现。</p>
<p>下面介绍一下 UIAttachmentBehavior 的属性：</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@property</span> (<span class="keyword">readonly</span>, <span class="keyword">nonatomic</span>) <span class="built_in">UIAttachmentBehaviorType</span> attachedBehaviorType;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 该锚点关联物理仿真元素附着的点，在这个例子中，就是你的手指所触摸的那个点，</span></span><br><span class="line"><span class="comment">// lightBlueView 是围绕这个点在运动的。</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">readwrite</span>, <span class="keyword">nonatomic</span>) <span class="built_in">CGPoint</span> anchorPoint;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">readwrite</span>, <span class="keyword">nonatomic</span>) <span class="built_in">CGFloat</span> length;</span><br><span class="line"><span class="comment">// 衰减，经测试，这个值越大，可以减震</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">readwrite</span>, <span class="keyword">nonatomic</span>) <span class="built_in">CGFloat</span> damping; </span><br><span class="line"></span><br><span class="line"><span class="comment">// 该值越大，物理仿真元素运动越剧烈</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">readwrite</span>, <span class="keyword">nonatomic</span>) <span class="built_in">CGFloat</span> frequency; </span><br><span class="line"></span><br><span class="line"><span class="comment">// 反抗旋转的程度</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">readwrite</span>, <span class="keyword">nonatomic</span>) <span class="built_in">CGFloat</span> frictionTorque <span class="built_in">NS_AVAILABLE_IOS</span>(<span class="number">9</span>_0); </span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">readwrite</span>, <span class="keyword">nonatomic</span>) <span class="built_in">UIFloatRange</span> attachmentRange <span class="built_in">NS_AVAILABLE_IOS</span>(<span class="number">9</span>_0);</span><br></pre></td></tr></table></figure>

<h2 id="UIDynamicItemBehavior：动力元素行为"><a href="#UIDynamicItemBehavior：动力元素行为" class="headerlink" title="UIDynamicItemBehavior：动力元素行为"></a>UIDynamicItemBehavior：动力元素行为</h2><p>具体作用：给一个仿真元素设置各种物理属性。比如：</p>
<p>allowsRotation :是否允许旋转<br>resistance: 抗阻力 0<del>CGFLOAT_MAX ，阻碍原有所加注的行为（如本来是重力自由落体行为，则阻碍其下落，阻碍程度根据其值来决定）<br>friction: 磨擦力 0.0</del>1.0 在碰撞行为里，碰撞对象的边缘产生<br>elasticity:弹跳性 0.0<del>1.0<br>density:密度 0</del>1</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">UIView</span> *) newViewWithCenter:(<span class="built_in">CGPoint</span>)paramCenter  backgroundColor:(<span class="built_in">UIColor</span> *)paramBackgroundColor&#123;</span><br><span class="line">    <span class="built_in">UIView</span> *newView = [[<span class="built_in">UIView</span> alloc] initWithFrame: <span class="built_in">CGRectMake</span>(<span class="number">0.0</span>f, <span class="number">0.0</span>f, <span class="number">50.0</span>f, <span class="number">50.0</span>f)];</span><br><span class="line">    newView.backgroundColor = paramBackgroundColor;</span><br><span class="line">    newView.center = paramCenter;</span><br><span class="line">    <span class="keyword">return</span> newView;</span><br><span class="line">&#125;</span><br><span class="line">- (<span class="keyword">void</span>)viewDidAppear:(<span class="built_in">BOOL</span>)animated&#123;</span><br><span class="line">    [<span class="keyword">super</span> viewDidAppear:animated];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UIView</span> *topView = [<span class="keyword">self</span> newViewWithCenter:<span class="built_in">CGPointMake</span>(<span class="number">100.0</span>f, <span class="number">0.0</span>f)</span><br><span class="line">                              backgroundColor:[<span class="built_in">UIColor</span> greenColor]];</span><br><span class="line">    <span class="built_in">UIView</span> *bottomView = [<span class="keyword">self</span> newViewWithCenter:<span class="built_in">CGPointMake</span>(<span class="number">100.0</span>f, <span class="number">50.0</span>f)</span><br><span class="line">                                 backgroundColor:[<span class="built_in">UIColor</span> redColor]];</span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:topView];</span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:bottomView];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//构造动画</span></span><br><span class="line">    <span class="keyword">self</span>.animator = [[<span class="built_in">UIDynamicAnimator</span> alloc] initWithReferenceView:<span class="keyword">self</span>.view];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//gravity</span></span><br><span class="line">    <span class="built_in">UIGravityBehavior</span> *gravity = [[<span class="built_in">UIGravityBehavior</span> alloc]</span><br><span class="line">                                  initWithItems:@[topView, bottomView]];</span><br><span class="line">    [<span class="keyword">self</span>.animator addBehavior:gravity];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//collision</span></span><br><span class="line">    <span class="built_in">UICollisionBehavior</span> *collision = [[<span class="built_in">UICollisionBehavior</span> alloc]</span><br><span class="line">                                      initWithItems:@[topView, bottomView]];</span><br><span class="line">    collision.translatesReferenceBoundsIntoBoundary = <span class="literal">YES</span>;</span><br><span class="line">    [<span class="keyword">self</span>.animator addBehavior:collision];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//指派不同特性值  弹性bounce</span></span><br><span class="line">    <span class="built_in">UIDynamicItemBehavior</span> *moreElasticItem = [[<span class="built_in">UIDynamicItemBehavior</span> alloc]</span><br><span class="line">                                              initWithItems:@[bottomView]];</span><br><span class="line">    moreElasticItem.elasticity = <span class="number">1.0</span>f;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UIDynamicItemBehavior</span> *lessElasticItem = [[<span class="built_in">UIDynamicItemBehavior</span> alloc]</span><br><span class="line">                                              initWithItems:@[topView]];</span><br><span class="line">    lessElasticItem.elasticity = <span class="number">0.5</span>f;</span><br><span class="line">    [<span class="keyword">self</span>.animator addBehavior:moreElasticItem];</span><br><span class="line">    [<span class="keyword">self</span>.animator addBehavior:lessElasticItem];</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>本文所有代码：<a href="https://github.com/lizhaoLoveIT/UIDynamic" target="_blank" rel="noopener">UIDynamic</a></p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Ammar</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://lizhaoloveit.cn/2015/08/05/UIDynamic-%E7%89%A9%E7%90%86%E4%BB%BF%E7%9C%9F%E5%BC%95%E6%93%8E%E5%85%A8%E9%9D%A2%E4%BA%86%E8%A7%A3/">http://lizhaoloveit.cn/2015/08/05/UIDynamic-%E7%89%A9%E7%90%86%E4%BB%BF%E7%9C%9F%E5%BC%95%E6%93%8E%E5%85%A8%E9%9D%A2%E4%BA%86%E8%A7%A3/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://lizhaoloveit.cn">Ammar's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/iOS/">iOS    </a></div><div class="post_share"><div class="social-share" data-image="https://lizhaoloveit.cn/blogimages/blog/avatar.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-buttom"><i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lozad post-qr-code__img" data-src="/img/wechat.jpg"><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lozad post-qr-code__img" data-src="/img/alipay.jpg"><div class="post-qr-code__desc">支付宝</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull-left"><a href="/2015/09/16/CoreLocation%E6%A1%86%E6%9E%B6/"><img class="prev_cover lozad" data-src="https://www.lizhaoloveit.cn/blogimages/blog/cover/1.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/2.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/3.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/4.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/5.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/6.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/7.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/8.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/9.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/10.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/11.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/12.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/13.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/14.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/15.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/16.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/17.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/18.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/19.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/20.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/21.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/22.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/23.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/24.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/25.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/26.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/27.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/28.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/29.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/31.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/32.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/33.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/34.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/35.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/36.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/37.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/38.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/39.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/40.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/41.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/42.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/43.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/44.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/45.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/46.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/47.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/48.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/49.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/50.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/51.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/52.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/53.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/54.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/55.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/56.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/57.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/58.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/59.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/60.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/62.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/63.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/64.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/65.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/66.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/67.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/68.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/69.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/70.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/71.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/72.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/73.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/74.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/75.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/76.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/77.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/78.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/79.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="label">上一篇</div><div class="prev_info"><span>CoreLocation框架</span></div></a></div><div class="next-post pull-right"><a href="/2015/07/30/Swift%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%BF%E7%94%A8/"><img class="next_cover lozad" data-src="https://www.lizhaoloveit.cn/blogimages/blog/cover/1.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/2.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/3.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/4.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/5.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/6.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/7.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/8.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/9.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/10.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/11.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/12.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/13.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/14.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/15.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/16.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/17.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/18.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/19.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/20.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/21.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/22.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/23.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/24.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/25.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/26.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/27.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/28.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/29.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/31.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/32.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/33.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/34.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/35.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/36.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/37.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/38.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/39.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/40.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/41.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/42.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/43.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/44.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/45.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/46.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/47.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/48.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/49.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/50.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/51.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/52.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/53.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/54.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/55.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/56.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/57.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/58.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/59.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/60.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/62.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/63.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/64.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/65.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/66.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/67.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/68.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/69.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/70.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/71.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/72.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/73.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/74.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/75.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/76.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/77.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/78.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/79.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="label">下一篇</div><div class="next_info"><span>Swift高阶函数的使用</span></div></a></div></nav><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i> <span>评论</span></div><div id="disqus_thread"></div><script>var unused = null;
var disqus_config = function () {
  this.page.url = 'http://lizhaoloveit.cn/2015/08/05/UIDynamic-%E7%89%A9%E7%90%86%E4%BB%BF%E7%9C%9F%E5%BC%95%E6%93%8E%E5%85%A8%E9%9D%A2%E4%BA%86%E8%A7%A3/';
  this.page.identifier = '2015/08/05/UIDynamic-物理仿真引擎全面了解/';
  this.page.title = 'UIDynamic 物理仿真引擎全面了解';
}
var d = document, s = d.createElement('script');
s.src = "https://" + 'lizhao' +".disqus.com/embed.js";
s.setAttribute('data-timestamp', '' + +new Date());
(d.head || d.body).appendChild(s);</script></div></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2014 - 2024 By Ammar</div><div class="icp"><a href="https://beian.miit.gov.cn/" target="_blank" rel="noopener"><span>浙ICP备19013619号-1</span></a></div><div class="bag"><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33010502006128" target="_blank" rel="noopener"><img src="/img/beian.png"><span>浙公网安备 33010502006128号</span></a></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><section class="rightside" id="rightside"><i class="fa fa-book" id="readmode" title="阅读模式"> </i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换">繁</a><i class="far fa-moon nightshift" id="nightshift" title="夜间模式"></i></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script async src="/js/search/algolia.js"></script><script src="/js/nightshift.js"></script><script src="/js/tw_cn.js"></script><script>translateInitilization()

</script><script src="https://cdn.jsdelivr.net/npm/instant.page@1.2.2/instantpage.min.js" type="module"></script><div class="search-dialog" id="algolia-search"><div class="search-dialog__title" id="algolia-search-title">Algolia</div><div id="algolia-input-panel"><div id="algolia-search-input"></div></div><hr><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-stats"></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><!-- hexo-inject:begin --><!-- hexo-inject:end --></body></html>