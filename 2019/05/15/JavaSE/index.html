<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>JavaSE | Ammar's Blog</title><meta name="description" content="JavaSE"><meta name="keywords" content="Java"><meta name="author" content="Ammar"><meta name="copyright" content="Ammar"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.1/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="canonical" href="http://lizhaoloveit.cn/2019/05/15/JavaSE/"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="JavaSE"><meta name="twitter:description" content="JavaSE"><meta name="twitter:image" content="https://lizhaoloveit.cn/blogimages/blog/avatar.jpg"><meta property="og:type" content="article"><meta property="og:title" content="JavaSE"><meta property="og:url" content="http://lizhaoloveit.cn/2019/05/15/JavaSE/"><meta property="og:site_name" content="Ammar's Blog"><meta property="og:description" content="JavaSE"><meta property="og:image" content="https://lizhaoloveit.cn/blogimages/blog/avatar.jpg"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="prev" title="二十六种设计模式" href="http://lizhaoloveit.cn/2019/06/18/%E4%BA%8C%E5%8D%81%E5%85%AD%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"><link rel="next" title="复杂度" href="http://lizhaoloveit.cn/2019/04/15/%E5%A4%8D%E6%9D%82%E5%BA%A6/"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.css"><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.js" defer></script><link rel="dns-prefetch" href="https://hm.baidu.com"><script><!-- hexo-inject:begin --><!-- hexo-inject:end -->var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?162506e75ffd64287398566b2f5738c8";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();</script><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: {"appId":"VRMKRAV9AT","apiKey":"bd7157400046d0f02396708a501a3480","indexName":"lizhaoloveit","hits":{"per_page":6},"languages":{"input_placeholder":"搜索文章","hits_empty":"找不到您查询的内容:${query}","hits_stats":"找到 ${hits} 条结果，用时 ${time} 毫秒"}},
  localSearch: undefined,
  translate: {"defaultEncoding":1,"translateDelay":0,"cookieDomain":"https://lizhaoloveit.cn/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  highlight_copy: 'true',
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    title: '添加书签',
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天'

  
}</script><meta name="generator" content="Hexo 4.2.1"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#JDK-JRE-JVM概述"><span class="toc-number">1.</span> <span class="toc-text">JDK-JRE-JVM概述</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Java-JDK的使用"><span class="toc-number">2.</span> <span class="toc-text">Java JDK的使用</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#java基本语法"><span class="toc-number">3.</span> <span class="toc-text">java基本语法</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#JVM内存模型"><span class="toc-number">4.</span> <span class="toc-text">JVM内存模型</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#javaBean"><span class="toc-number">5.</span> <span class="toc-text">javaBean</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#继承思想"><span class="toc-number">6.</span> <span class="toc-text">继承思想</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#方法覆盖"><span class="toc-number">6.1.</span> <span class="toc-text">方法覆盖</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#方法重载"><span class="toc-number">6.2.</span> <span class="toc-text">方法重载</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#抽象"><span class="toc-number">7.</span> <span class="toc-text">抽象</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Object"><span class="toc-number">7.1.</span> <span class="toc-text">Object</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#接口"><span class="toc-number">8.</span> <span class="toc-text">接口</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#接口定义"><span class="toc-number">8.1.</span> <span class="toc-text">接口定义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#接口实现类"><span class="toc-number">8.2.</span> <span class="toc-text">接口实现类</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#多态"><span class="toc-number">9.</span> <span class="toc-text">多态</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#多态时方法调用问题"><span class="toc-number">9.1.</span> <span class="toc-text">多态时方法调用问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#类型转换和instanceof运算符"><span class="toc-number">9.2.</span> <span class="toc-text">类型转换和instanceof运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#this-and-super-and-static"><span class="toc-number">9.3.</span> <span class="toc-text">this and super and static</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#static"><span class="toc-number">9.4.</span> <span class="toc-text">static</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#final"><span class="toc-number">9.5.</span> <span class="toc-text">final</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#内部类和匿名内部类"><span class="toc-number">10.</span> <span class="toc-text">内部类和匿名内部类</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#静态内部类"><span class="toc-number">10.1.</span> <span class="toc-text">静态内部类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#实例内部类"><span class="toc-number">10.2.</span> <span class="toc-text">实例内部类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#匿名内部类"><span class="toc-number">10.3.</span> <span class="toc-text">匿名内部类</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#枚举"><span class="toc-number">11.</span> <span class="toc-text">枚举</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#枚举类的由来："><span class="toc-number">11.1.</span> <span class="toc-text">枚举类的由来：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#枚举类的定义和使用"><span class="toc-number">11.2.</span> <span class="toc-text">枚举类的定义和使用</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#单例模式"><span class="toc-number">12.</span> <span class="toc-text">单例模式</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#基本类型的包装类"><span class="toc-number">13.</span> <span class="toc-text">基本类型的包装类</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#缓存设计"><span class="toc-number">13.1.</span> <span class="toc-text">缓存设计</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#BigDecimal"><span class="toc-number">13.2.</span> <span class="toc-text">BigDecimal</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#随机数-Random"><span class="toc-number">13.3.</span> <span class="toc-text">随机数 Random</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UUID"><span class="toc-number">13.4.</span> <span class="toc-text">UUID</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#字符串String类"><span class="toc-number">13.5.</span> <span class="toc-text">字符串String类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Stirng对象的空值"><span class="toc-number">13.5.1.</span> <span class="toc-text">Stirng对象的空值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#String类型常用方法"><span class="toc-number">13.5.2.</span> <span class="toc-text">String类型常用方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#可变字符串-StringBuilder-拼接多个字符串的时候才会使用"><span class="toc-number">13.6.</span> <span class="toc-text">可变字符串 StringBuilder(拼接多个字符串的时候才会使用)</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Date日期"><span class="toc-number">14.</span> <span class="toc-text">Date日期</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#SimpleDateFormat-时间格式化类"><span class="toc-number">14.1.</span> <span class="toc-text">SimpleDateFormat 时间格式化类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Calendar"><span class="toc-number">14.2.</span> <span class="toc-text">Calendar</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#正则表达式"><span class="toc-number">15.</span> <span class="toc-text">正则表达式</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#异常"><span class="toc-number">16.</span> <span class="toc-text">异常</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#捕获单个异常"><span class="toc-number">16.1.</span> <span class="toc-text">捕获单个异常</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#捕获多个异常"><span class="toc-number">16.2.</span> <span class="toc-text">捕获多个异常</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#finally语句块"><span class="toc-number">16.3.</span> <span class="toc-text">finally语句块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#throws"><span class="toc-number">16.4.</span> <span class="toc-text">throws</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#throw"><span class="toc-number">16.5.</span> <span class="toc-text">throw</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#异常体系"><span class="toc-number">16.6.</span> <span class="toc-text">异常体系</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#自定义异常类"><span class="toc-number">16.7.</span> <span class="toc-text">自定义异常类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#异常链"><span class="toc-number">16.8.</span> <span class="toc-text">异常链</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#多线程"><span class="toc-number">17.</span> <span class="toc-text">多线程</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#线程生命周期和状态"><span class="toc-number">17.1.</span> <span class="toc-text">线程生命周期和状态</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#操作线程的方法："><span class="toc-number">17.2.</span> <span class="toc-text">操作线程的方法：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#多线程安全安全问题"><span class="toc-number">17.3.</span> <span class="toc-text">多线程安全安全问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#线程同步"><span class="toc-number">17.4.</span> <span class="toc-text">线程同步</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#同步代码块"><span class="toc-number">17.4.1.</span> <span class="toc-text">同步代码块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#同步方法"><span class="toc-number">17.4.2.</span> <span class="toc-text">同步方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#synchronized的优劣"><span class="toc-number">17.5.</span> <span class="toc-text">synchronized的优劣</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#集合"><span class="toc-number">18.</span> <span class="toc-text">集合</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#泛型"><span class="toc-number">18.1.</span> <span class="toc-text">泛型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数组、可变数组"><span class="toc-number">18.2.</span> <span class="toc-text">数组、可变数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#栈"><span class="toc-number">18.3.</span> <span class="toc-text">栈</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#哈希表"><span class="toc-number">18.4.</span> <span class="toc-text">哈希表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#树和二叉树-还需学习"><span class="toc-number">18.5.</span> <span class="toc-text">树和二叉树(还需学习)</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#集合框架体系"><span class="toc-number">19.</span> <span class="toc-text">集合框架体系</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#List接口"><span class="toc-number">19.1.</span> <span class="toc-text">List接口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#集合元素迭代"><span class="toc-number">19.2.</span> <span class="toc-text">集合元素迭代</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Set接口"><span class="toc-number">19.3.</span> <span class="toc-text">Set接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#HashSet"><span class="toc-number">19.3.1.</span> <span class="toc-text">HashSet</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TreeSet"><span class="toc-number">19.3.2.</span> <span class="toc-text">TreeSet</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Map-映射"><span class="toc-number">19.4.</span> <span class="toc-text">Map 映射</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#HashMap"><span class="toc-number">19.4.1.</span> <span class="toc-text">HashMap</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TreeMap"><span class="toc-number">19.4.2.</span> <span class="toc-text">TreeMap</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#集合框架工具类"><span class="toc-number">19.5.</span> <span class="toc-text">集合框架工具类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#小结"><span class="toc-number">19.6.</span> <span class="toc-text">小结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#I-x2F-O"><span class="toc-number">20.</span> <span class="toc-text">I&#x2F;O</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#File类"><span class="toc-number">20.1.</span> <span class="toc-text">File类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#字符编码"><span class="toc-number">20.2.</span> <span class="toc-text">字符编码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IO流操作"><span class="toc-number">20.3.</span> <span class="toc-text">IO流操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#FileOutputStream"><span class="toc-number">20.3.1.</span> <span class="toc-text">FileOutputStream</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#FileInputStream"><span class="toc-number">20.3.2.</span> <span class="toc-text">FileInputStream</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#FileWriter"><span class="toc-number">20.3.3.</span> <span class="toc-text">FileWriter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#FileReader"><span class="toc-number">20.3.4.</span> <span class="toc-text">FileReader</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#需求：文件拷贝"><span class="toc-number">20.3.5.</span> <span class="toc-text">需求：文件拷贝</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#缓冲流"><span class="toc-number">20.4.</span> <span class="toc-text">缓冲流</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#对象序列化"><span class="toc-number">20.5.</span> <span class="toc-text">对象序列化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#序列化版本问题"><span class="toc-number">20.5.1.</span> <span class="toc-text">序列化版本问题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#打印流"><span class="toc-number">20.6.</span> <span class="toc-text">打印流</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#标准IO"><span class="toc-number">20.7.</span> <span class="toc-text">标准IO</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AutoClose"><span class="toc-number">20.8.</span> <span class="toc-text">AutoClose</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#动态编程和可配置文件"><span class="toc-number">21.</span> <span class="toc-text">动态编程和可配置文件</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#配置文件"><span class="toc-number">21.1.</span> <span class="toc-text">配置文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#properties-文件的数据存储"><span class="toc-number">21.2.</span> <span class="toc-text">properties 文件的数据存储</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#properties-文件解析"><span class="toc-number">21.2.1.</span> <span class="toc-text">properties 文件解析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用配置文件创建对象"><span class="toc-number">21.2.2.</span> <span class="toc-text">使用配置文件创建对象</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XML概述"><span class="toc-number">21.3.</span> <span class="toc-text">XML概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XML-文档结构"><span class="toc-number">21.4.</span> <span class="toc-text">XML 文档结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XML-约束"><span class="toc-number">21.5.</span> <span class="toc-text">XML 约束</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DOM树-Document-Object-Model"><span class="toc-number">21.6.</span> <span class="toc-text">DOM树(Document Object Model)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#获取DOM对象的步骤和过程"><span class="toc-number">21.6.1.</span> <span class="toc-text">获取DOM对象的步骤和过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#获取-XML-文件"><span class="toc-number">21.6.2.</span> <span class="toc-text">获取 XML 文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建-XML-文件"><span class="toc-number">21.6.3.</span> <span class="toc-text">创建 XML 文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#新增联系人信息"><span class="toc-number">21.6.4.</span> <span class="toc-text">新增联系人信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#修改-XML-文件中的元素"><span class="toc-number">21.6.5.</span> <span class="toc-text">修改 XML 文件中的元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#删除-XML-文件中的元素"><span class="toc-number">21.6.6.</span> <span class="toc-text">删除 XML 文件中的元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#查询-XML-中的节点和值"><span class="toc-number">21.6.7.</span> <span class="toc-text">查询 XML 中的节点和值</span></a></li></ol></li></ol></li></ol></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://lizhaoloveit.cn/blogimages/blog/top_img.jpg)"><div id="page-header"><span class="pull-left"> <a class="blog_title" id="site-name" href="/">Ammar's Blog</a></span><div class="open toggle-menu pull-right"><div class="menu-icon-first"></div><div class="menu-icon-second"></div><div class="menu-icon-third"></div></div><span class="pull-right menus"><div class="mobile_author_icon"><img class="lozad" data-src="https://lizhaoloveit.cn/blogimages/blog/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'"><div class="mobile_author-info__description">微信号：aicjaish</div></div><hr><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a><a class="site-page" href="/comment/"><i class="fa-fw fa fa-coffee"></i><span> 留言</span></a><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a><script>document.body.addEventListener('touchstart', function(){ });</script></div></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></span></div><div id="post-info"><div id="post-title"><div class="posttitle">JavaSE</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2019-05-15<span class="post-meta__separator">|</span><i class="fa fa-history" aria-hidden="true"></i> 更新于 2019-07-29</time><span class="post-meta__separator mobile_hidden">|</span><span class="mobile_hidden"><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/Java/">Java</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/Java/JavaSE/">JavaSE</a></span><div class="post-meta-wordcount"><span>字数总计: </span><span class="word-count">15.2k</span><span class="post-meta__separator">|</span><span>阅读时长: 59 分钟</span></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><h1 id="JDK-JRE-JVM概述"><a href="#JDK-JRE-JVM概述" class="headerlink" title="JDK-JRE-JVM概述"></a>JDK-JRE-JVM概述</h1><hr>
<!-- hexo-inject:begin --><!-- hexo-inject:end --><p><img src="https://www.lizhaoloveit.cn/blogimages/java/javaSE/15578984340125-javaSE.jpg"></p>
<p>JRE (Java Runtime Environment): Java运行环境，如果要运行Java程序，就需要JRE的支持，JRE里包含JVM。</p>
<p>JDK (Java Development Kit): Java开发工具，包含java程序的所有工具，javac和java，JDK里包含JRE</p>
<p>JVM (Java Virtual Machine) 简称JVM，它是运行所有Java程序的虚拟计算机，好比模拟器，JNM是Java语言的运行环境。JVM用于读取并处理编译过的与平台无关的字节码，从而实现Java的可移植性。选择不同平台的JDK。</p>
<p>JVM是Java程序的解释和执行器。</p>
<h1 id="Java-JDK的使用"><a href="#Java-JDK的使用" class="headerlink" title="Java JDK的使用"></a>Java JDK的使用</h1><hr>
<p><img src="https://www.lizhaoloveit.cn/blogimages/java/javaSE/15579040726543-javaSE.jpg"></p>
<p>bin 存放Java的操作工具，比如编译工具javac等</p>
<p>include:存储c++的头文件</p>
<p>jre:java的运行环境，内有JVM</p>
<p>lib:java运行和核心库</p>
<p>src.zip:java的源代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 编译源文件</span></span><br><span class="line">$ javac <span class="number">123</span>.java</span><br><span class="line"><span class="comment">// 编译成功后会生成.class文件，字节码文件，启动JVM，并加载.class字节码，解释并执行</span></span><br><span class="line">$ java hello</span><br><span class="line"><span class="comment">// 用JVM执行的源文件必须含有main方法</span></span><br></pre></td></tr></table></figure>

<h1 id="java基本语法"><a href="#java基本语法" class="headerlink" title="java基本语法"></a>java基本语法</h1><hr>
<ol>
<li>java语言严格区分大小写，好比main和Main是完全不同的概念</li>
<li>一个java源文件里可以有多个java类，其中最多有一个类被定义为pulic，若源文件中包括了pulic类，源文件必须和pulic类同名</li>
<li>一个源文件中包涵N个java类时，编译后会生成N份字节码文件，即每个类都会生成一份单独的class文件，且字节码文件名和对应的类名相同</li>
<li>一个类必须有main方法才能运行，main方法是程序的入口。</li>
</ol>
<blockquote>
<p>建议：<br>一个java源文件之定义一个类，不同的类使用不同的源文件定义：<br>将每个源文件中单独定义的类都定义成pulic<br>保持java源文件的主文件名与源文件中的类名一致</p>
</blockquote>
<h1 id="JVM内存模型"><a href="#JVM内存模型" class="headerlink" title="JVM内存模型"></a>JVM内存模型</h1><hr>
<p><img src="https://www.lizhaoloveit.cn/blogimages/java/javaSE/15597172900356-javaSE.jpg"></p>
<p>JVM内存划分，认为的根据不同内存空间的存储特点以及存储的数据。</p>
<ul>
<li>程序计数器：当前线程所执行的字节码的行号指示器。</li>
<li>本地方法栈：为虚拟机使用的native方法服务。</li>
<li>方法区：线程共享的内存区域，存储已被虚拟机加载的类信息、常量、静态变量即时编译器编译后的代码数据等(这个区域的内存回收目标主要是针对常量池的回收和对类型的卸载)</li>
<li>java虚拟机栈：简称栈，每个方法被执行的时候都会同时创建一个栈帧用于存储改方法的局部变量、操作栈、动态链接、方法出口灯信息。<ul>
<li>每当调用一个方法时，创建一个栈帧，存放了当前方法的局部变量，当方法调用完毕，改方法的栈帧就被销毁了。</li>
</ul>
</li>
<li>java堆：被所有线程共享的一块内存区域，在虚拟机启动时创建，所有的对象实例以及数组都要在堆上分配。<ul>
<li>每次使用new关键字，就表示在堆内存中开辟一块新的内存空间。</li>
</ul>
</li>
</ul>
<p>GC(Garbage Collection)，垃圾回收器。<br>java的自动垃圾回收机制可以简单的理解为，不需要程序员手动的去控制内存的释放，当JVM内存资源不够用的时候，就会自动地去清理堆中无用对象(没有内引用到的对象)所占用的内存空间。  </p>
<h1 id="javaBean"><a href="#javaBean" class="headerlink" title="javaBean"></a>javaBean</h1><hr>
<p>栈帧：C语言中，每个栈帧对应一个未运行完的函数，栈帧中保存了该函数的返回地址和局部变量。</p>
<p>从逻辑上讲，栈帧就是一个函数执行的环境，函数参数，函数的局部变量，函数执行完后会返回到哪里等。</p>
<table>
<thead>
<tr>
<th></th>
<th>类</th>
<th>同一个包</th>
<th>子类</th>
<th>任何地方</th>
</tr>
</thead>
<tbody><tr>
<td>private</td>
<td>✅</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>无</td>
<td>✅</td>
<td>✅</td>
<td></td>
<td></td>
</tr>
<tr>
<td>protected</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td></td>
</tr>
<tr>
<td>public</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
</tr>
</tbody></table>
<p>JavaBean规范：</p>
<ol>
<li>类必须使用public修饰</li>
<li>必须保证有公共无参数的构造器，即使手动提供带参数的构造器，也得手动提供无参数构造器</li>
<li>字段使用private修饰，每个字段提供一堆getter和setter方法</li>
</ol>
<blockquote>
<p>每个字段都得使用private修饰，并提供一堆getter&#x2F;setter方法</p>
</blockquote>
<h1 id="继承思想"><a href="#继承思想" class="headerlink" title="继承思想"></a>继承思想</h1><hr>
<p><img src="https://www.lizhaoloveit.cn/blogimages/java/javaSE/15600460807784-javaSE.jpg"><br>Object类是java语言的根类，任何类都是Object的子类，要么是直接子类，要么是间接子类。</p>
<p>子类可以继承父类的全部成员(成员变量和方法)，但private和无修饰的字段没有访问权限</p>
<h2 id="方法覆盖"><a href="#方法覆盖" class="headerlink" title="方法覆盖"></a>方法覆盖</h2><hr>
<ol>
<li>方法签名相同(方法签名 &#x3D; 方法名 + 方法参数)</li>
<li>方法返回类型必须相同</li>
<li>子类方法中抛出的异常类型应该小于等于父类方法中抛出的异常类型</li>
<li>子类方法的访问权限必须大于父类方法的访问权限</li>
</ol>
<blockquote>
<p>只有实例方法(无Static修饰)才称之为方法覆盖<br>@override标签表示验证方法覆盖是否正确</p>
</blockquote>
<h2 id="方法重载"><a href="#方法重载" class="headerlink" title="方法重载"></a>方法重载</h2><hr>
<ol>
<li>同一个类中，方法名相同</li>
<li>方法参数列表不同</li>
</ol>
<p><strong>注意：</strong></p>
<blockquote>
<p>方法覆盖和重载的区别：<br>方法覆盖和方法重载没有关系，override overload，<br>方法覆盖的判断规则<br>方法重载规则。</p>
</blockquote>
<h1 id="抽象"><a href="#抽象" class="headerlink" title="抽象"></a>抽象</h1><hr>
<p>使用abstract修饰的方法，称为抽象方法<br>抽象类用于描述诸如生物，这样没有实例，但是在人们描述事物的概念中存在的。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> 返回类型 方法名(参数);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>特点</p>
<ol>
<li>使用abstract修饰，没有方法体，留给子类去覆盖</li>
<li>抽象方法必须定义在抽象类或者接口中</li>
<li>使用abstract修饰的类称为抽象类。</li>
</ol>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> 类名</span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>抽象类不能创建对象，调用没有方法体的抽象方法没有意义</li>
<li>抽象类中可以同时拥有抽象方法和普通方法</li>
<li>抽象类要有子类才有意义，子类必须覆盖父类的抽象方法，否则子类也得作为抽象类。</li>
</ul>
<h2 id="Object"><a href="#Object" class="headerlink" title="Object"></a>Object</h2><hr>
<p>&#x3D;&#x3D; 和 equals的区别</p>
<p>&#x3D;&#x3D; 比较基本数据类型，比较值是否相等，比较应用类型时，比较内存空间是否相等</p>
<p>equals只能比较对象	</p>
<ul>
<li>覆盖equals  比较方式就看equals的方法体,一般比较内容是否相等</li>
<li>不覆盖equals  使用Object的equals方法比较,实际上就是用&#x3D;&#x3D;比较两个对象是否相同,比较内存空间</li>
</ul>
<h1 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h1><hr>
<p>接口是一种规范，只定义应该有哪些功能，本身不实现功能。<br>作用：降低耦合性</p>
<h2 id="接口定义"><a href="#接口定义" class="headerlink" title="接口定义"></a>接口定义</h2><hr>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> 接口名 </span>&#123;</span><br><span class="line">    <span class="comment">// 抽象方法1();</span></span><br><span class="line">    <span class="comment">// 抽象方法2();</span></span><br><span class="line">    <span class="comment">// 抽象方法3();</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>接口表示具有某些功能的事物，接口名使用名词，有人习惯I打头，IWalkable.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IWalkable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">walk</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="comment">// 等价于</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">walk</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="接口实现类"><a href="#接口实现类" class="headerlink" title="接口实现类"></a>接口实现类</h2><hr>
<p>类和接口之间的关系是implements，实现关系</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> 类名 <span class="keyword">implements</span> 接口名 </span>&#123;</span><br><span class="line">    <span class="comment">// 覆盖接口中的抽象方法</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>如果实现类没有全部实现接口中的方法，要么报错，要么把实现类设置为抽象类。</strong></p>
<h1 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h1><hr>
<p>编译类型和运行类型不一致 <code>Animal a = new Cat();</code></p>
<p>编译类型必须是运行类型的父类或接口</p>
<p><strong>父类引用子类变量指向子类对象，调用方法时，实际调用的是子类方法</strong></p>
<h2 id="多态时方法调用问题"><a href="#多态时方法调用问题" class="headerlink" title="多态时方法调用问题"></a>多态时方法调用问题</h2><hr>
<p><img src="https://www.lizhaoloveit.cn/blogimages/java/javaSE/15600895163430-javaSE.jpg"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Animal a = <span class="keyword">new</span> Cat();</span><br><span class="line">a.shout();</span><br></pre></td></tr></table></figure>
<p>上述代码的逻辑图</p>
<h2 id="类型转换和instanceof运算符"><a href="#类型转换和instanceof运算符" class="headerlink" title="类型转换和instanceof运算符"></a>类型转换和instanceof运算符</h2><hr>
<p>instanceof</p>
<ul>
<li>语法格式：boolean b &#x3D; 对象A  instanceof 类B; &#x2F;&#x2F; 判断A对象是否是B类的实例。如果是返回true</li>
</ul>
<p>面向接口编程，体现的就是多态，好处是：把实现类对象赋给接口类型变量，屏蔽了不同实现类之间的实现差异，从而可以做到通用编程。</p>
<h2 id="this-and-super-and-static"><a href="#this-and-super-and-static" class="headerlink" title="this and super and static"></a>this and super and static</h2><hr>
<p>super用法同this</p>
<p>在方法中，哪一个对象调用this所在的方法，此时this就表示哪一个对象。</p>
<p>this在构造器中的用法需要注意的是:</p>
<blockquote>
<p>一般少参构造器调用多参构造器，this调用构造器必须为当前构造器方法中的第一行代码</p>
</blockquote>
<h2 id="static"><a href="#static" class="headerlink" title="static"></a>static</h2><hr>
<p>static 修饰的成员变量，随着类被加载进JVM，内存储存在方法区中。</p>
<p><strong>使用对象访问static修饰的成员变量，底层依然使用类名访问。</strong></p>
<p>static方法访问的成员变量必须使用static修饰，必须依托类，而不是对象。</p>
<blockquote>
<p>在类中，代码块是由上到下依次运行的，但是由static修饰的代码块，会在类加载到内存中就运行依次，之后如果不调用则不再运行。</p>
</blockquote>
<h2 id="final"><a href="#final" class="headerlink" title="final"></a>final</h2><hr>
<p>final可以修饰类、方法、变量</p>
<ul>
<li>final修饰类时，表示该类不能再有子类</li>
<li>final修饰方法时，表示该方法不能被子类所覆盖</li>
<li>final修饰变量，表示常量，改变量只能赋值一次，不能再重新赋值。<ul>
<li>基本数据类型：表示值不能被改变</li>
<li>引用数据类型，所引用的地址不能被改变(即该变量指针不能重新指向其他地址)；</li>
</ul>
</li>
</ul>
<h1 id="内部类和匿名内部类"><a href="#内部类和匿名内部类" class="headerlink" title="内部类和匿名内部类"></a>内部类和匿名内部类</h1><hr>
<p>内部类可以看做和字段、方法一样，是外部类的成员变量，也可以被static修饰。</p>
<h2 id="静态内部类"><a href="#静态内部类" class="headerlink" title="静态内部类"></a>静态内部类</h2><hr>
<p>静态内部类：使用static修饰的内部类，访问内部类直接用类名.静态类构造器创建静态类</p>
<p><strong>静态的内部类中，不能访问外部类中非静态的变量和方法</strong></p>
<p>使用场景，一般针对于，静态内部类不需要外部类的资源，而外部类需要使用内部类的时候。</p>
<p>静态类的调用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Cat.Dog d = <span class="keyword">new</span> Cat.Dog();</span><br><span class="line">d.fun();</span><br></pre></td></tr></table></figure>

<h2 id="实例内部类"><a href="#实例内部类" class="headerlink" title="实例内部类"></a>实例内部类</h2><hr>
<p>实例内部类：访问内部类，使用外部类实例的对象来访问。</p>
<h2 id="匿名内部类"><a href="#匿名内部类" class="headerlink" title="匿名内部类"></a>匿名内部类</h2><hr>
<p>针对类，定义匿名内部类来继承父类(使用较少)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> [父类构造器]([实参列表]) &#123;</span><br><span class="line">    <span class="comment">// 匿名内部类的类体部分</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>针对接口，使用较多</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> 接口名称() &#123;</span><br><span class="line">    <span class="comment">// 匿名内部类的类体部分</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 注意：这里不是根据接口创建对象。是创建匿名内部类</span></span><br><span class="line">board.plugin(<span class="keyword">new</span> IUSB() &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">swapData</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"打印"</span>);</span><br><span class="line">    &#125; </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>匿名类的底层，依然还是创建了一份字节码文件，USBDemo$1，其反编译为：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">USBDemo</span>$1 <span class="keyword">implements</span> <span class="title">IUSB</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">swapData</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"打印"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="枚举"><a href="#枚举" class="headerlink" title="枚举"></a>枚举</h1><hr>
<h2 id="枚举类的由来："><a href="#枚举类的由来：" class="headerlink" title="枚举类的由来："></a>枚举类的由来：</h2><hr>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Type</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Type MAN = <span class="keyword">new</span> Type();</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Type WOMAN = <span class="keyword">new</span> Type();</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Type NETURAL = <span class="keyword">new</span> Type();</span><br><span class="line">    <span class="comment">// 私有化构造器，外界只能访问3个变量其中一个</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Type</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="枚举类的定义和使用"><a href="#枚举类的定义和使用" class="headerlink" title="枚举类的定义和使用"></a>枚举类的定义和使用</h2><hr>
<p>public enum 枚举类名 {<br>    常量对象A，常量对象B，常量对象C。<br>}</p>
<p>我们自定义的枚举类在底层都是直接继承了java.lang.Enum类的。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> Type &#123;</span><br><span class="line">    MEN, WOMEN, NEUTRAL;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Type t = <span class="keyword">new</span> Type.MEN;</span><br><span class="line">t.name(); <span class="comment">// MEN</span></span><br><span class="line">t.ordinal(); <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>


<h1 id="单例模式"><a href="#单例模式" class="headerlink" title="单例模式"></a>单例模式</h1><hr>
<p>目的：保证在整个应用中某一个类有且只有一个实例，(一个类在堆内存中只有一个对象)。</p>
<p>步骤：</p>
<ol>
<li>必须在该类中，自己先创建一个对象。</li>
<li>私有化自身构造器，防止外界通过构造器创建新的工具类对象</li>
<li>向外暴露一个公共的静态方法用于返回自身的对象。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayUtil</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> ArrayUtil instance = <span class="keyword">new</span> ArrayUtil();</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">ArrayUtil</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> ArrayUtil <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="基本类型的包装类"><a href="#基本类型的包装类" class="headerlink" title="基本类型的包装类"></a>基本类型的包装类</h1><hr>
<p>除了Integer和Character外，其他都是基本类型的首字母大写</p>
<p>装箱和拆箱</p>
<p>把基本类型数据转成对应的包装类对象。反之是拆箱</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Integer num2 = Integer.valueOf(<span class="number">17</span>);</span><br><span class="line">Integer num2 = <span class="number">17</span>;  <span class="comment">// 自动装箱，底层是上行代码</span></span><br><span class="line"><span class="keyword">int</span> val = num2.intValue();</span><br><span class="line"><span class="keyword">int</span> val = num2;     <span class="comment">// 自动拆箱，底层是上行代码</span></span><br><span class="line">Object obj = <span class="number">17</span></span><br></pre></td></tr></table></figure>
<p><strong>把字符串转换为int，int num &#x3D; Integer.parseInt(“123”);</strong></p>
<p>如果传入的不是纯数字字符串会抛出异常”NumberFormatException”</p>
<p>六种转换操作:</p>
<ol>
<li><p>Integer -&gt; int <code>int val = num2.intValue(); int val = num2;</code> </p>
</li>
<li><p>int -&gt; Integer <code>Integer num2 = Integer.valueOf(17); Integer num2 = 17;</code></p>
</li>
<li><p>Integer -&gt; String <code>num2 + &quot;&quot;</code> <code>num2.toString()</code></p>
</li>
<li><p>String -&gt; Integer <code>Integer.valueOf(String s)</code></p>
</li>
<li><p>int -&gt; String <code>num3 + &quot;&quot;</code></p>
</li>
<li><p>String -&gt; int <code>int num = Integer.parseInt(&quot;123&quot;);</code></p>
</li>
</ol>
<p><img src="https://www.lizhaoloveit.cn/blogimages/java/javaSE/15604828658434-javaSE.jpg"></p>
<h2 id="缓存设计"><a href="#缓存设计" class="headerlink" title="缓存设计"></a>缓存设计</h2><hr>
<p>Byte、Short、Integer、Long缓存范围[-128, 127];<br>Character缓存范围为[0, 127];</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Integer i1 = <span class="keyword">new</span> Integer(<span class="number">123</span>);</span><br><span class="line">Integer i2 = <span class="keyword">new</span> Integer(<span class="number">123</span>);</span><br><span class="line">System.out.println(i1 == i2); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">Integer i1 = Integer.valueOf(<span class="number">123</span>);</span><br><span class="line">Integer i2 = Integer.valueOf(<span class="number">123</span>);</span><br><span class="line">System.out.println(i1 == i2); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 底层等价于 i1 = 123.  i2 = 123，如果把上述代码换成250 ，就都为false</span></span><br></pre></td></tr></table></figure>
<p>部分源码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Integer <span class="title">valueOf</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (i &gt;= IntegerCache.low &amp;&amp; i &lt;= IntegerCache.high)</span><br><span class="line">        <span class="keyword">return</span> IntegerCache.cache[i + (-IntegerCache.low)];</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Integer(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="BigDecimal"><a href="#BigDecimal" class="headerlink" title="BigDecimal"></a>BigDecimal</h2><hr>
<p>处理类似精确2位这样的需求</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(<span class="number">0.01</span> + <span class="number">0.09</span>);</span><br><span class="line">System.out.println((<span class="keyword">new</span> BigDecimal(<span class="number">0.01</span>)).add(<span class="keyword">new</span> BigDecimal(<span class="number">0.09</span>)));</span><br><span class="line">System.out.println(<span class="keyword">new</span> BigDecimal(<span class="string">"0.01"</span>).add(<span class="keyword">new</span> BigDecimal(<span class="string">"0.09"</span>)));</span><br></pre></td></tr></table></figure>

<h2 id="随机数-Random"><a href="#随机数-Random" class="headerlink" title="随机数 Random"></a>随机数 Random</h2><hr>
<p>Math.random(); &#x2F;&#x2F; 返回一个[0,1)的随机小数<br>int intNum1 &#x3D; (int)(num * 100);<br>[0, 100)之间的随机数;</p>
<p>Random类用于产生一个伪随机数(通过相同的种子，产生的随机数是相同的)，Math类的random方法底层使用的就是Random类的方式。</p>
<h2 id="UUID"><a href="#UUID" class="headerlink" title="UUID"></a>UUID</h2><hr>
<p>UUID表示通用唯一标识符(Universally Unique Identifier)，其算法通过电脑网卡、当地时间、随机数等组合而成，优点是真实的唯一性、确定是字符串太长。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// UUID随机字符串</span></span><br><span class="line">String uuid = UUID.randomUUID().toString();</span><br><span class="line"><span class="comment">// 获取UUID前5个字母作为验证码</span></span><br><span class="line">String code = uuid.substring(<span class="number">0</span>, <span class="number">5</span>);</span><br><span class="line">code.toUpperCase();</span><br></pre></td></tr></table></figure>

<h2 id="字符串String类"><a href="#字符串String类" class="headerlink" title="字符串String类"></a>字符串String类</h2><hr>
<p>字符串&#x3D;字符序列，</p>
<ul>
<li>不可变字符串：String str &#x3D; “ABCD”; 等价于 char[] cs &#x3D; new char[]{‘A’, ‘B’, ‘C’, ‘D’};对象内容改变，则变成了一个新的对象。</li>
<li>可变字符串 StringBuilder&#x2F;StringBuffer：当StringBuilder对象创建完毕后，对象的内容可以发生改变，当内容发成改变的时候，对象保持不变。</li>
</ul>
<p>String 对象创建的两种方式，有什么区别：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>. String str1 = <span class="string">"ABCD"</span>;</span><br><span class="line"><span class="number">2</span>. String str2 = <span class="keyword">new</span> String(<span class="string">"ABCD"</span>);</span><br></pre></td></tr></table></figure>

<p>在内存中的分布：</p>
<p><img src="https://www.lizhaoloveit.cn/blogimages/java/javaSE/15603244587501-javaSE.jpg"></p>
<h3 id="Stirng对象的空值"><a href="#Stirng对象的空值" class="headerlink" title="Stirng对象的空值"></a>Stirng对象的空值</h3><hr>
<p>表示引用为空(null)，没有初始化，没有分配内存空间<br>空字符串，已经初始化，分配了内存空间。</p>
<blockquote>
<p>判断字符串非空：字符串不为null，且字符内容不能为空字符串(“”)</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">hasLength</span><span class="params">(String str)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> str != <span class="keyword">null</span> &amp;&amp; !<span class="string">""</span>.equals(str.trim());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>比较字符串操作：<br>“&#x3D;&#x3D;” 比较两个字符串引用内存地址是否相同。<br>equals，比较两个字符串的内容是否相同。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"ABCD"</span> == <span class="string">"ABCD"</span> <span class="comment">// true</span></span><br><span class="line"><span class="string">"ABCD"</span> == <span class="keyword">new</span> String(<span class="string">"ABCD"</span>) <span class="comment">// false</span></span><br><span class="line"><span class="string">"ABCD"</span>.equals(<span class="string">"ABCD"</span>) <span class="comment">// true</span></span><br><span class="line"><span class="string">"ABCD"</span>.equals(<span class="keyword">new</span> String(<span class="string">"ABCD"</span>)) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h3 id="String类型常用方法"><a href="#String类型常用方法" class="headerlink" title="String类型常用方法"></a>String类型常用方法</h3><hr>
<ol>
<li><code>int length()</code>返回次字符串的字符个数</li>
<li><code>char charAt(int index)</code>返回指定索引位置的字符</li>
<li><code>int indexOf(String str)</code>返回指定子字符串在此字符串中第一次出现处的索引位置</li>
<li><code>boolean equals(Object anObject)</code>比较内容是否相同</li>
<li><code>boolean equalsIgnoreCase(String anotherString)</code>忽略大小写，比较内容是否相同</li>
<li><code>String toUpperCase()</code> 把当前字符串转换为大写</li>
<li><code>String toLowerCase()</code> 把当前字符串转换为小写</li>
<li><code>String substring(int beginIndex)</code>葱绿指定位置开始截取字符串</li>
<li><code>String substring(int beginIndex, int endIndex)</code>截取指定区域的字符串</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="string">"HelloWorld"</span>;</span><br><span class="line">System.out.println(str.length());</span><br><span class="line"><span class="keyword">char</span> ch = str.charAt(<span class="number">3</span>);</span><br><span class="line">System.out.println(ch);</span><br><span class="line"><span class="keyword">int</span> index = str.indexOf(<span class="string">"lo"</span>);</span><br><span class="line">System.out.println(index);</span><br><span class="line">System.out.println(<span class="string">"helloworld"</span>.equals(str)); <span class="comment">// false</span></span><br><span class="line">System.out.println(<span class="string">"helloworld"</span>.equalsIgnoreCase(str));</span><br><span class="line">System.out.println(str.toLowerCase());</span><br><span class="line">System.out.println(str.toUpperCase());</span><br><span class="line">String str1 = str.substring(<span class="number">3</span>);</span><br><span class="line">System.out.println(str1); <span class="comment">// loWorld</span></span><br><span class="line">String str2 = str.substring(<span class="number">3</span>, <span class="number">6</span>);</span><br><span class="line">System.out.println(str2); <span class="comment">// loW</span></span><br></pre></td></tr></table></figure>

<h2 id="可变字符串-StringBuilder-拼接多个字符串的时候才会使用"><a href="#可变字符串-StringBuilder-拼接多个字符串的时候才会使用" class="headerlink" title="可变字符串 StringBuilder(拼接多个字符串的时候才会使用)"></a>可变字符串 StringBuilder(拼接多个字符串的时候才会使用)</h2><hr>
<p>性能比String高2500倍</p>
<p>StringBuffer和 StringBuilder的区别：</p>
<ul>
<li>StringBuffer StringBuffer中的方法都使用了 sunchronized 修饰，保证线程安全但性能较低</li>
<li>StringBuilder StringBuilder中的方法没有使用 synchronized修饰，线程不安全但是性能较高，开发中建议使用StringBuilder</li>
</ul>
<p><code>StringBuilder sb = new StringBuilder(40);</code>创建指定容量的字符数组，缺省为16</p>
<p>&#x2F;&#x2F; 添加各种数据类型<br><code>sb.append(123)</code><br>详见手册</p>
<p>&#x2F;&#x2F; 删除下标start开始到end前一位的字符<br><code>sb.delete(start, end)</code></p>
<p>&#x2F;&#x2F; 删除指定位置的字符<br><code>sb.deleteCharAt(index)</code></p>
<p>&#x2F;&#x2F; 在指定位置插入各种数据类型<br><code>sb.insert(index, &quot;l&quot;)</code></p>
<p>&#x2F;&#x2F; 反转字符串<br>sb.reverse();</p>
<h1 id="Date日期"><a href="#Date日期" class="headerlink" title="Date日期"></a>Date日期</h1><hr>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">java.util.Date d = <span class="keyword">new</span> java.util.Date();</span><br><span class="line">d.toString(); <span class="comment">// 欧美人的时间风格，Thu May 17 14:25:12 CST 2018</span></span><br><span class="line">d.toLocaleString(); <span class="comment">// 本地区的时间风格 2018-5-17 14:25:12</span></span><br><span class="line"><span class="keyword">long</span> time = d.getTime(); <span class="comment">// 毫秒时间戳1526538312866</span></span><br></pre></td></tr></table></figure>

<h2 id="SimpleDateFormat-时间格式化类"><a href="#SimpleDateFormat-时间格式化类" class="headerlink" title="SimpleDateFormat 时间格式化类"></a>SimpleDateFormat 时间格式化类</h2><hr>
<p>格式化(Format):Date类型转换为String类型， <code>String format(Date date)</code><br>解析(parse): String类型转换为Date类型 <code>Date parse(String source)</code></p>
<p><img src="https://www.lizhaoloveit.cn/blogimages/java/javaSE/15605657912615-javaSE.jpg"></p>
<p>日期模式列举</p>
<table>
<thead>
<tr>
<th>日期格式</th>
<th>日期</th>
</tr>
</thead>
<tbody><tr>
<td>yyyy-MM-dd</td>
<td>2020-12-12</td>
</tr>
<tr>
<td>HH:mm:ss</td>
<td>20:12:12</td>
</tr>
<tr>
<td>yyyy-MM-dd HH:mm:ss</td>
<td>2020-12-12 20:12:12</td>
</tr>
<tr>
<td>yyyy&#x2F;MM&#x2F;dd HH:mm:ss</td>
<td>2020&#x2F;12&#x2F;12 20:12:12</td>
</tr>
<tr>
<td>yyyy年MM月dd日 HH时mm分ss秒</td>
<td>2020年12月12日 20时12分12秒</td>
</tr>
</tbody></table>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ParseException </span>&#123;</span><br><span class="line">	Date d = <span class="keyword">new</span> Date();</span><br><span class="line">	</span><br><span class="line">	SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat();</span><br><span class="line">	sdf.applyPattern(<span class="string">"yyyy-MM-dd HH:mm:ss"</span>);</span><br><span class="line">	String dateString = sdf.format(d);</span><br><span class="line">	System.out.println(dateString);</span><br><span class="line">	</span><br><span class="line">	Date dd = sdf.parse(dateString);</span><br><span class="line">	System.out.println(dd);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Calendar"><a href="#Calendar" class="headerlink" title="Calendar"></a>Calendar</h2><hr>
<p>Calendar是日历类，主要用来对日期做加减法，重新设置日期时间的功能，Calendar本身是抽象类，通过getInstance方法获取对象，底层创建的是Calendar的子类对象。</p>
<p>Calendar类中的MONTH的一月是从0开始计算的。</p>
<blockquote>
<p>The first month of the year in the Gregorian and Julian calendars is JANUARY which is 0; the last depends on the number of months in a year.</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ParseException </span>&#123;</span><br><span class="line">	<span class="comment">// 创建一个2019年9月10日的对象，不是单例模式，获取子类对象</span></span><br><span class="line">	Calendar c = Calendar.getInstance();</span><br><span class="line">	System.out.println(c.get(Calendar.MONTH));</span><br><span class="line">	</span><br><span class="line">	String time = <span class="string">"2019-09-30"</span>;</span><br><span class="line">	</span><br><span class="line">	SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat();</span><br><span class="line">	sdf.applyPattern(<span class="string">"yyyy-MM-dd"</span>);</span><br><span class="line">	Date date = sdf.parse(time);</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 将该时间设置到当前日历对象 Sets this Calendar's time with the given Date.</span></span><br><span class="line">	c.setTime(date);</span><br><span class="line">	System.out.println(c.get(Calendar.YEAR));</span><br><span class="line">	<span class="comment">// 注意MONTH是从0开始计算的</span></span><br><span class="line">	System.out.println(c.get(Calendar.MONTH));</span><br><span class="line">	System.out.println(c.get(Calendar.DAY_OF_MONTH));</span><br><span class="line">	System.out.println(c.get(Calendar.DAY_OF_YEAR));</span><br><span class="line">	System.out.println(c.get(Calendar.DAY_OF_WEEK));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h1><hr>
<p>匹配规则一：</p>
<table>
<thead>
<tr>
<th>No.</th>
<th>规范</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>\</td>
<td>表示反斜线(\)字符</td>
</tr>
<tr>
<td>2</td>
<td>\t</td>
<td>表示制表符</td>
</tr>
<tr>
<td>3</td>
<td>\n</td>
<td>表示换行</td>
</tr>
<tr>
<td>4</td>
<td>[abc]</td>
<td>字符a、b或c</td>
</tr>
<tr>
<td>5</td>
<td>[^abc]</td>
<td>除了a、b、c之外的任意字符</td>
</tr>
<tr>
<td>6</td>
<td>[a-zA-Z0-9]</td>
<td>表示由字母、数字组成</td>
</tr>
<tr>
<td>7</td>
<td>\d</td>
<td>表示数字</td>
</tr>
<tr>
<td>8</td>
<td>\D</td>
<td>表示非数字</td>
</tr>
<tr>
<td>9</td>
<td>\w</td>
<td>表示字母、数字、下划线</td>
</tr>
<tr>
<td>10</td>
<td>\W</td>
<td>表示非字母、数字、下划线</td>
</tr>
<tr>
<td>11</td>
<td>\s</td>
<td>表示所有空白字符(换行、空格等)</td>
</tr>
<tr>
<td>12</td>
<td>\S</td>
<td>表示所有非空白字符</td>
</tr>
<tr>
<td>13</td>
<td>^</td>
<td>行的开头</td>
</tr>
<tr>
<td>14</td>
<td>$</td>
<td>行的结尾</td>
</tr>
<tr>
<td>15</td>
<td>.</td>
<td>匹配除换行符之外的任意字符</td>
</tr>
</tbody></table>
<p>匹配规则二：</p>
<p>数量表示(X表示一组规范)</p>
<table>
<thead>
<tr>
<th>No.</th>
<th>规范</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>X</td>
<td>必须出现一次</td>
</tr>
<tr>
<td>2</td>
<td>X?</td>
<td>可以出现0次或者1次</td>
</tr>
<tr>
<td>3</td>
<td>X*</td>
<td>可以出现0次、1次或多次</td>
</tr>
<tr>
<td>4</td>
<td>X+</td>
<td>可以出现1次或者多次</td>
</tr>
<tr>
<td>5</td>
<td>X{n}</td>
<td>必须出现n次</td>
</tr>
<tr>
<td>6</td>
<td>X{n,}</td>
<td>必须出现n次以上</td>
</tr>
<tr>
<td>7</td>
<td>X{n,m}</td>
<td>必须出现n~m次</td>
</tr>
</tbody></table>
<p>逻辑运算符(X,Y表示一组规范)</p>
<table>
<thead>
<tr>
<th>No.</th>
<th>规范</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>XY</td>
<td>X规范后跟着Y规范</td>
</tr>
<tr>
<td>2</td>
<td>X</td>
<td>Y</td>
</tr>
<tr>
<td>3</td>
<td>(X)</td>
<td>作为一个捕获组规范</td>
</tr>
</tbody></table>
<h1 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h1><hr>
<p><img src="https://www.lizhaoloveit.cn/blogimages/java/javaSE/15605822355718-javaSE.jpg"></p>
<p>Throwable类有两个子类 Error和 Exception，分别表示错误和异常。<br>Exception 和 Error子类都是以其名字作为类名后缀</p>
<ul>
<li>Error表示代码运行时， JVM出现的问题，如系统崩溃或内存溢出等，不需要处理Error，<ul>
<li>StackOverflowError 当应用程序递归太深而发生堆栈溢出，抛出该错误。比如死循环或者没有出口的递归调用。</li>
<li>OutOfMemoryError 因为内存溢出或者没有可用的内存提供给垃圾回收器时，Java虚拟机无法分配一个对象，这时候抛出该错误，比如new了一个非常庞大数量的对象而没释放。</li>
</ul>
</li>
</ul>
<p><strong>抛出异常之后的代码不会执行。</strong></p>
<p>常见的Exception</p>
<ol>
<li>ArrayIndexOutOfBoundsException:数组越界</li>
<li>ArithmeticException:异常运算条件，比如除数为0</li>
<li>NullPointException:需要对象的地方使用了null，空指针异常。比如调用null对象的实例方法</li>
</ol>
<h2 id="捕获单个异常"><a href="#捕获单个异常" class="headerlink" title="捕获单个异常"></a>捕获单个异常</h2><hr>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// 可能出现异常的代码</span></span><br><span class="line">&#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">    <span class="comment">// 处理捕获到的异常代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>异常一旦产生，首先会实例化一个该类型异常对象，并把该对象赋值给对应catch语句块里的异常类变量。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    a / b <span class="comment">// 1 如果出现异常会自动创建异常对象</span></span><br><span class="line">    <span class="comment">// 当出现异常，异常以下代码不会被执行</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (ArithmeticException e) &#123; <span class="comment">// 2 判断自动创建的异常对象和catch中的一致才会执行3</span></span><br><span class="line">    <span class="comment">// 3</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>也可以使用Exception接受所有的异常对象(多态)，捕获异常的时候不建议使用Throwable，使用Throwable没有问题，但是Throwable分为Error和Exception，Error是没必要处理的。所以用Exception</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>方法说明</th>
</tr>
</thead>
<tbody><tr>
<td>String getMessage()</td>
<td>返回异常信息</td>
</tr>
<tr>
<td>void printStackTrace()</td>
<td>打印异常类名和异常信息，以及程序中出现异常的位置</td>
</tr>
</tbody></table>
<p><code>getMessage</code>方法获取异常的错误信息，一般获取后，把错误信息打印给用户查看</p>
<p><code>printStackTrace</code>方法，用于打印异常具体信息，包含了异常信息，错误类型，错误位置，方便开发阶段的调试，也是JVM默认的异常处理机制</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">divide</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        a/b</span><br><span class="line">    &#125; <span class="keyword">catch</span> (ArithmeticException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">        System.out.println(<span class="string">"异常信息："</span>+e.getMessage());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>目前直接使用e.printStackTrace()即可</p>
</blockquote>
<h2 id="捕获多个异常"><a href="#捕获多个异常" class="headerlink" title="捕获多个异常"></a>捕获多个异常</h2><hr>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// 可能出现异常的代码</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (A异常) &#123;</span><br><span class="line">    <span class="comment">// 处理捕获到的异常代码</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (B异常) &#123;</span><br><span class="line">    <span class="comment">// 处理捕获到的异常代码</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (C异常) &#123;</span><br><span class="line">    <span class="comment">// 处理捕获到的异常代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="finally语句块"><a href="#finally语句块" class="headerlink" title="finally语句块"></a>finally语句块</h2><hr>
<p>try-catch-finally 格式</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">catch</span> (异常类型 变量) &#123;</span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    <span class="comment">// 无论是否有异常，最后都会执行的代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>try catch或者try finally 必须成对出现<br>finally块总会执行，无论是否有错误出现，如果try或者catch 中语句块存在JVM退出代码 System.exit(0);，则finally块就不会执行。</p>
</blockquote>
<p>一般，把关闭资源的代码放在finally中，保证资源总是能关闭。</p>
<h2 id="throws"><a href="#throws" class="headerlink" title="throws"></a>throws</h2><hr>
<p>异常可以抛出，使用throws关键字</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">修饰符 返回值类型 方法名(参数列表...) <span class="keyword">throws</span> 异常类A，异常类B&#123;&#125;</span><br></pre></td></tr></table></figure>
<h2 id="throw"><a href="#throw" class="headerlink" title="throw"></a>throw</h2><hr>
<p>方法内，需要返回一个错误结果给调用者时，使用throw关键字在方法内手动抛出一个具体的异常对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">try</span> &#123;</span><br><span class="line">		isExist(<span class="string">"will"</span>);</span><br><span class="line">	&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">		System.out.println(e.getMessage());</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">	</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isExist</span><span class="params">(String username)</span> <span class="keyword">throws</span> Exception	</span>&#123;</span><br><span class="line">	String[] data = &#123;<span class="string">"will"</span>, <span class="string">"lucy"</span>, <span class="string">"lily"</span>&#125;;</span><br><span class="line">	<span class="keyword">if</span> (username != <span class="keyword">null</span> &amp;&amp; !username.isEmpty()) &#123;</span><br><span class="line">		<span class="keyword">for</span> (String string : data) &#123;</span><br><span class="line">			<span class="keyword">if</span> (string.equals(username)) &#123;</span><br><span class="line">				<span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"对不起，用户名已存在"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>throws: 用于提醒isExist方法的调用者，需要处理异常，用于方法声明<br>throw: 当条件不满足时，主动抛出一个异常，返回一个具体的错误结果</p>
<h2 id="异常体系"><a href="#异常体系" class="headerlink" title="异常体系"></a>异常体系</h2><hr>
<p>checked(编译)异常，runtime(运行)异常</p>
<p><img src="https://www.lizhaoloveit.cn/blogimages/java/javaSE/15605847701405-javaSE.jpg"></p>
<p>RuntimeException和其子类属于运行异常，除了运行异常，其他都是编译异常。</p>
<p>运行异常在编译时期无法检查出来，如空指针异常、除数为0异常。可以避免。可以不用try-catch和throws处理运行异常。</p>
<p>程序员必须处理编译异常，使用try-catch或者throws处理异常</p>
<h2 id="自定义异常类"><a href="#自定义异常类" class="headerlink" title="自定义异常类"></a>自定义异常类</h2><hr>
<p>两种方式：集成Exception或者RuntimeException类，一般推荐集成RuntimeException</p>
<p>需要提供一个无参构造器和一个带String类型参数的构造器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomerException</span> <span class="keyword">extends</span> <span class="title">RuntimeException</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> Customer customer;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">CustomerException</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">CustomerException</span><span class="params">(String message, Customer customer)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>(message); <span class="comment">// 勿忘，表示把传递的异常信息存储到异常对象中。</span></span><br><span class="line">		<span class="keyword">this</span>.customer = customer;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> Customer <span class="title">getCustomer</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> customer;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCustomer</span><span class="params">(Customer customer)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.customer = customer;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">someMistakes</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">throw</span> <span class="keyword">new</span> CustomerException(<span class="string">"用户名已存在"</span>, <span class="keyword">new</span> Customer(name));</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			someMistakes(<span class="string">"will"</span>);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			<span class="keyword">if</span> (e <span class="keyword">instanceof</span> CustomerException) &#123;</span><br><span class="line">				CustomerException exception = (CustomerException)e;</span><br><span class="line">				System.out.println(exception.getMessage());</span><br><span class="line">				System.out.println(exception.getCustomer().name);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="异常链"><a href="#异常链" class="headerlink" title="异常链"></a>异常链</h2><hr>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">HighAgeException</span><span class="params">(String message, Throwable cause)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">super</span>(message, cause);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在catch到异常后，由于可能会不清楚该异常，则使用另一个异常描述类，重新编辑message，并将原有异常作为第二个参数构造新异常对象，并抛出。如此做，会将异常更加清晰的抛出。让调用者更加直观。</p>
<p>此种方式称为异常链。</p>
<h1 id="多线程"><a href="#多线程" class="headerlink" title="多线程"></a>多线程</h1><hr>
<p>运行一个简单的java程序的时候，存在2个线程：主线程和垃圾回收线程。</p>
<p>线程的创建和启动：</p>
<p>方式一：</p>
<ol>
<li>自定义类继承Thread</li>
<li>覆写run方法</li>
<li>创建自定义类对象</li>
<li>自定义类对象调用start方法</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyThread</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 线程体，线程启动时，会自动调用本方法，这里是写代码的主体方法</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExceptionDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        MyThread t = <span class="keyword">new</span> MyThread();</span><br><span class="line">        t.start(); <span class="comment">// 调用Thread的start方法，JVM会自动调用run方法</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>方式二：</p>
<ol>
<li>通过实现Runnable接口</li>
<li>覆写run方法</li>
<li>创建自定义类对象</li>
<li>把自定类对象作为Thread类构造器参数，调用Thread对象start方法</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyRunnable</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 线程体，线程启动时，会调用本方法，这里是我们写代码的主题部分</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadDemo2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        MyRunnable target = <span class="keyword">new</span> MyRunnable();</span><br><span class="line">        Thread t = <span class="keyword">new</span> Thread(target);</span><br><span class="line">        t.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>启动线程必须调用线程类Thread中的start方法，改方法由Thread类的一个实例来调用，底层会调用该线程的run方法<br>只有调用了start方法才会开启线程，单独调用run方法并不会开启线程</p>
</blockquote>
<h2 id="线程生命周期和状态"><a href="#线程生命周期和状态" class="headerlink" title="线程生命周期和状态"></a>线程生命周期和状态</h2><hr>
<p><img src="https://www.lizhaoloveit.cn/blogimages/java/javaSE/15606076172849-javaSE.jpg"></p>
<ol>
<li>新建状态：new一个线程对象后，该线程对象处于新建状态，此时他和其他java对象并无不同。</li>
<li>可运行状态：RUNNABLE状态分为READY和RUNNING。分别表示就绪和可运行状态。<ul>
<li>就绪状态：当线程对象调用start()方法后，该线程处于就绪状态，进入线程队列排队。何时运行取决于CPU调度器的调度</li>
<li>运行状态：线程对象被CPU调度器调度，执行线程体，就绪和运行状态会相互切换。</li>
</ul>
</li>
<li>阻塞状态：正在运行的线程遇到特殊情况，同步、等待I&#x2F;O操作完成等，进入阻塞状态，让出CPU资源，暂时停止自己的执行。</li>
<li>等待状态：一个可运行状态线程变成等待状态，它会等待另一个线程通知它转到可运行状态，才继续执行。</li>
<li>计时等待状态：进入等待状态的线程如果没有其他线程唤醒，此时考虑设计一个提示器，会在特定时间后唤醒该线程对象。</li>
<li>终止状态：死亡状态，表示线程终止，当线程成功执行完成或者抛出未捕获的Exception或者Error或者调用线程的stop方法(易导致死锁、不推荐)</li>
</ol>
<h2 id="操作线程的方法："><a href="#操作线程的方法：" class="headerlink" title="操作线程的方法："></a>操作线程的方法：</h2><hr>
<ul>
<li>join方法，同步，可以使得线程之间的并行执行变成串行执行</li>
</ul>
<p>A线程中调用了B线程的join()方法时，只有当B线程执行完毕时，A线程才能继续执行。</p>
<ul>
<li>sleep方法</li>
</ul>
<p>让正在执行的线程暂停一段时间，进入阻塞状态，常用来模拟网络延迟<br><code>sleep(long milllis) throws InterruptedException; // 毫秒为单位</code><br>调用sleep()后，在指定时间段内，改线程不会获得执行机会</p>
<ul>
<li>setPriority(int x)和getPriority()</li>
</ul>
<p>优先级和线程的执行机会的次数多少有关，并不是优先级高的就一定先执行。调用方法设置优先级。</p>
<ul>
<li>setDaemon(true)</li>
</ul>
<p>后台线程，一本用于为其他线程提供服务，也叫守护线程。JVM的垃圾回收就是典型的后台线程。<br>特点：若所有的前台线程都死亡，后台线程自动死亡。<br>Thread对象<code>setDaemon(true)</code>来设置后台线程。<br>setDaemon(true)必须在start()调用前，否则抛出IllegalThreadStateException异常</p>
<h2 id="多线程安全安全问题"><a href="#多线程安全安全问题" class="headerlink" title="多线程安全安全问题"></a>多线程安全安全问题</h2><hr>
<p>继承方式：</p>
<ul>
<li>Java类是单继承，如果继承了Thread类，就不能再有其他直接父类了</li>
<li>继承方式无法让多线程共享同一个资源</li>
</ul>
<p>实现方式：</p>
<ul>
<li>Java类可以实现多个接口，此时该类还可以继承其他类，还可以实现其他接口，设计上更优雅</li>
<li>多线程可以共享同一个资源</li>
</ul>
<p>什么时候线程不安全：</p>
<ol>
<li>多线程</li>
<li>共享同一个资源</li>
<li>非原子性操作</li>
</ol>
<h2 id="线程同步"><a href="#线程同步" class="headerlink" title="线程同步"></a>线程同步</h2><hr>
<p>在多线程访问同一资源的时候，由于一些复杂的操作，导致可能A未访问完全，B就可以拿到资源访问，使得A的一些后续操作作废，因此需要上锁，作用：A开始访问后上锁，B、C只能等待A完全访问后，才能获得资源访问权。</p>
<p>线程同步的两种方式：</p>
<h3 id="同步代码块"><a href="#同步代码块" class="headerlink" title="同步代码块"></a>同步代码块</h3><hr>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">synchronized</span>(同步锁) &#123;</span><br><span class="line">    <span class="comment">// 需要同步的操作</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>同步锁，又称同步监听对象，同步监听器</p>
<p><strong>资源在哪里就锁哪里，如果访问的资源在方法区就锁类，如果访问的资源在堆就锁对象</strong></p>
<blockquote>
<p>任何时候，最多允许一个线程拥有同步锁，谁拿到锁就执行，其他的线程只能在代码块外等着。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> Integer appleNum = <span class="number">50</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">50</span>; i++) &#123;</span><br><span class="line">				<span class="keyword">synchronized</span> (<span class="keyword">this</span>) &#123;</span><br><span class="line">					<span class="keyword">if</span> (appleNum &gt; <span class="number">0</span>) &#123;</span><br><span class="line">						Thread.sleep(<span class="number">10</span>);</span><br><span class="line">						System.out.println(Thread.currentThread().getName() + <span class="string">"吃了编号为:"</span> + appleNum-- + <span class="string">"的苹果"</span>);</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Person p1 = <span class="keyword">new</span> Person();</span><br><span class="line">		Thread t1 = <span class="keyword">new</span> Thread(p1, <span class="string">"小A"</span>);</span><br><span class="line">		Thread t2 = <span class="keyword">new</span> Thread(p1, <span class="string">"小B"</span>);</span><br><span class="line">		Thread t3 = <span class="keyword">new</span> Thread(p1, <span class="string">"小C"</span>);</span><br><span class="line">		t1.start();</span><br><span class="line">		t2.start();</span><br><span class="line">		t3.start();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="同步方法"><a href="#同步方法" class="headerlink" title="同步方法"></a>同步方法</h3><hr>
<p>使用synchronized修饰的方法，叫做同步方法，</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">synchronized</span> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doWork</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>此时同步锁是谁：</p>
<ul>
<li>对于非static方法，同步锁就是this</li>
<li>对于static方法，同步锁就是当前方法所在的类的字节码对象</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> Integer appleNum = <span class="number">50</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">synchronized</span> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">50</span>; i++) &#123;</span><br><span class="line">					<span class="keyword">if</span> (appleNum &gt; <span class="number">0</span>) &#123;</span><br><span class="line">						Thread.sleep(<span class="number">10</span>);</span><br><span class="line">						System.out.println(Thread.currentThread().getName() + <span class="string">"吃了编号为:"</span> + appleNum-- + <span class="string">"的苹果"</span>);</span><br><span class="line">					&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="synchronized的优劣"><a href="#synchronized的优劣" class="headerlink" title="synchronized的优劣"></a>synchronized的优劣</h2><hr>
<p>好处：线程安全<br>缺点：使用sunchronized方法的性能要低一些</p>
<p>建议：尽量减小synchronized的作用域</p>
<h1 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h1><hr>
<h2 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h2><hr>
<p>泛型方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> &lt;T&gt; <span class="function">List&lt;T&gt; <span class="title">parse</span><span class="params">(String url, Class&lt;T&gt; type)</span></span></span><br></pre></td></tr></table></figure>

<ol>
<li>public 与 返回值中间的 <T> 非常重要，可以理解为声明此方法为泛型方法。</li>
<li>只有声明了 <T> 的方法才是泛型方法，泛型类中的使用了泛型的成员方法并不是泛型方法</li>
<li><T> 表明该方法将使用泛型类型 T ，此时才可以在方法中使用泛型类型 T</li>
<li>与泛型类一样， T 类型 E 元素 K 键 V 值</li>
</ol>
<h2 id="数组、可变数组"><a href="#数组、可变数组" class="headerlink" title="数组、可变数组"></a>数组、可变数组</h2><hr>
<p>掌握ArrayList的源代码，动态缩容优化</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.lizhaoloveit._集合._ArrayList2;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SuppressWarnings</span>(<span class="string">"unchecked"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayList</span>&lt;<span class="title">E</span>&gt; </span>&#123;</span><br><span class="line">	<span class="comment">// 所有元素数组</span></span><br><span class="line">	<span class="keyword">private</span> E[] elements;</span><br><span class="line">	<span class="comment">// 元素数量</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> size;</span><br><span class="line">	<span class="comment">// 默认容量</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> DEFAULT_CAPACITY = <span class="number">10</span>;</span><br><span class="line">	<span class="comment">// 索引不到元素</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> ELEMENT_NOT_FOUND = -<span class="number">1</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 构造方法</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">ArrayList</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		elements = (E[]) <span class="keyword">new</span> Object[DEFAULT_CAPACITY];</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">ArrayList</span><span class="params">(<span class="keyword">int</span> capacity)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (capacity &lt; DEFAULT_CAPACITY) &#123;</span><br><span class="line">			capacity = DEFAULT_CAPACITY;</span><br><span class="line">		&#125;</span><br><span class="line">		elements = (E[]) <span class="keyword">new</span> Object[capacity];</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 清除所有元素</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">clear</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		size = <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 是否为空</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> size == <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 是否包含某个元素</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">contains</span><span class="params">(E element)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> indexOf(element) != ELEMENT_NOT_FOUND;</span><br><span class="line">	&#125; </span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 获取元素的索引</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">indexOf</span><span class="params">(E element)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// 校验参数是否为null</span></span><br><span class="line">		<span class="keyword">if</span> (element == <span class="keyword">null</span>) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">				<span class="keyword">if</span> (elements[i] == <span class="keyword">null</span>) <span class="keyword">return</span> i;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (elements[i].equals(element)) <span class="keyword">return</span> i;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> ELEMENT_NOT_FOUND;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 添加元素到尾部</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(E element)</span> </span>&#123;</span><br><span class="line">		add(size, element);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 添加元素到指定索引</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> index, E element)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// 检查索引是否越界</span></span><br><span class="line">		checkRangeForAdd(index);</span><br><span class="line">		<span class="comment">// 检查容量是否足够</span></span><br><span class="line">		ensureCapacity(size + <span class="number">1</span>);</span><br><span class="line">		<span class="comment">// 扩容后，让index的元素全部往后置一位</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = size; i &gt;= index; i--) &#123;</span><br><span class="line">			elements[i] = elements[i - <span class="number">1</span>];</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// 添加元素</span></span><br><span class="line">		elements[index] = element;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 获取index位置的元素</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> E <span class="title">get</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">		checkRange(index);</span><br><span class="line">		<span class="keyword">return</span> elements[index];</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 设置index位置的元素</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> E <span class="title">set</span><span class="params">(<span class="keyword">int</span> index, E element)</span> </span>&#123;</span><br><span class="line">		checkRange(index);</span><br><span class="line">		E old = elements[index];</span><br><span class="line">		elements[index] = element;</span><br><span class="line">		<span class="keyword">return</span> old;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 删除index位置的元素</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> E <span class="title">remove</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">		checkRange(index);</span><br><span class="line">		E old = elements[index];</span><br><span class="line">		<span class="comment">// 删除了index位置的元素，意味着index+1以后的元素要往前置一位</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = index; i &lt; size - <span class="number">1</span>; i++) &#123;</span><br><span class="line">			elements[i] = elements[i + <span class="number">1</span>];</span><br><span class="line">		&#125;</span><br><span class="line">		elements[size - <span class="number">1</span>] = <span class="keyword">null</span>;</span><br><span class="line">		size--;</span><br><span class="line">		<span class="keyword">return</span> old;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 删除的更快的写法</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> E <span class="title">remove</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">		checkRange(index);</span><br><span class="line">      E oldValue = elementData(index);</span><br><span class="line">      <span class="keyword">int</span> numMoved = size - index - <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">if</span> (numMoved &gt; <span class="number">0</span>)</span><br><span class="line">          System.arraycopy(elementData, index+<span class="number">1</span>, elementData, index,</span><br><span class="line">                           numMoved);</span><br><span class="line">      elementData[--size] = <span class="keyword">null</span>; <span class="comment">// clear to let GC do its work</span></span><br><span class="line">      <span class="keyword">return</span> oldValue;</span><br><span class="line">  &#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 删除某个元素</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">remove</span><span class="params">(E element)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> index = indexOf(element);</span><br><span class="line">		remove(index);</span><br><span class="line">		<span class="keyword">return</span> index;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 检查容量是否足够</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">ensureCapacity</span><span class="params">(<span class="keyword">int</span> capacity)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> oldCapacity = elements.length;</span><br><span class="line">		<span class="keyword">if</span> (oldCapacity &gt; capacity) </span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		<span class="comment">// 扩容1.5倍</span></span><br><span class="line">		<span class="keyword">int</span> newCapacity = oldCapacity + oldCapacity &gt;&gt; <span class="number">1</span>;</span><br><span class="line">		E[] newElements = (E[])<span class="keyword">new</span> Object[newCapacity];</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; oldCapacity; i++) &#123;</span><br><span class="line">			newElements[i] = elements[i];</span><br><span class="line">		&#125;</span><br><span class="line">		elements = newElements;</span><br><span class="line">		System.out.println(<span class="string">"旧数组容量："</span> + oldCapacity + <span class="string">"，变为新数组容量："</span> + newCapacity);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 校验索引越界(删改查)</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">checkRange</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt;= size) &#123;</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> IndexOutOfBoundsException(<span class="string">"Index: "</span> + index + <span class="string">", size:"</span> + size);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 校验索引越界(增)</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">checkRangeForAdd</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt; size) &#123;</span><br><span class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> IndexOutOfBoundsException(<span class="string">"Index: "</span> + index + <span class="string">", size:"</span> + size);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="comment">// size=3, [99, 88, 77]</span></span><br><span class="line">		StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">		sb.append(<span class="string">"size="</span>).append(size).append(<span class="string">", ["</span>);</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (i != <span class="number">0</span>) &#123;</span><br><span class="line">				sb.append(<span class="string">", "</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			sb.append(elements[i]);</span><br><span class="line">		&#125;</span><br><span class="line">		sb.append(<span class="string">"]"</span>);</span><br><span class="line">		<span class="keyword">return</span> sb.toString();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="栈"><a href="#栈" class="headerlink" title="栈"></a>栈</h2><hr>
<p>栈结构仅允许在表的一端进行插入和删除操作，这一端被称为栈顶。</p>
<p>栈底、入栈、出栈、</p>
<h2 id="哈希表"><a href="#哈希表" class="headerlink" title="哈希表"></a>哈希表</h2><hr>
<p>数组中的元素在数组中的索引位置是随机的，元素取值和元素的位置之间不存在确定的对应关系，在数组中查找特定的值时，需要把查找值和一系列元素比较。</p>
<p>查询效率取决于查找过程中的比较次数，比较次数越多，效率越低。</p>
<p>如果元素和索引之间存在对应关系，则查找效率会非常高。index &#x3D; hash(value);</p>
<p>通过给定元素值，调用hash(value)方法就能找到数组中value的位置 index</p>
<p>这种关系叫做hash，往哈希表中存储对象的时候，该hash算法就是对象的hashCode方法。</p>
<p><img src="https://www.lizhaoloveit.cn/blogimages/java/javaSE/15606076172853-javaSE.jpg"></p>
<h2 id="树和二叉树-还需学习"><a href="#树和二叉树-还需学习" class="headerlink" title="树和二叉树(还需学习)"></a>树和二叉树(还需学习)</h2><hr>
<p>!还需学习!</p>
<h1 id="集合框架体系"><a href="#集合框架体系" class="headerlink" title="集合框架体系"></a>集合框架体系</h1><hr>
<p>Set 集合 不允许重复元素  继承Collection</p>
<p>List 列表 允许重复元素  继承Collection</p>
<p>Map 映射 value可以重复，Key不行  接口</p>
<h2 id="List接口"><a href="#List接口" class="headerlink" title="List接口"></a>List接口</h2><hr>
<p>List接口规范：要求该容器允许记录元素的添加顺序，也允许元素重复</p>
<ul>
<li>ArrayList：数组列表，</li>
<li>LinkedList：链表，表示双向列表和双向队列结构，采用链表实现，使用不多</li>
<li>Stack类：栈，栈结构，数组实现</li>
<li>Vector类：向量，采用数组实现，使用不多</li>
</ul>
<p>List常用API：</p>
<p>添加操作：</p>
<ol>
<li><code>boolean add(Object e)</code> 将元素添加到列表末尾</li>
<li><code>void add(int index, Object element)</code> 在列表的index位置插入指定元素</li>
<li><code>boolean addAll(Collection c)</code> 把C列表中的所有元素添加到当前列表中</li>
</ol>
<p>删除操作：</p>
<ol>
<li><code>Object remove(int index)</code> 从列表中删除指定索引位置的元素，并返回被删除的元素</li>
<li><code>boolean removeAll(Collection c)</code> 从列表中移除C列表中的所有元素</li>
</ol>
<p>修改操作：</p>
<p><code>Object set(int index, Object element)</code>修改列表中指定索引位置的元素，返回被替换的旧元素</p>
<p>查询操作：</p>
<p><code>int size()</code>返回当前列表中的元素个数<br><code>boolean is Empty()</code> 判断当前列表中元素个数是否为0<br><code>Object get(int index)</code> 查询列表中指定索引位置对应的元素<br><code>Object[] toArray()</code> 把列表对象转换为Object数组<br><code>boolean contains(Object o)</code> 判断列表是否存在指定对象</p>
<h2 id="集合元素迭代"><a href="#集合元素迭代" class="headerlink" title="集合元素迭代"></a>集合元素迭代</h2><hr>
<p><img src="https://www.lizhaoloveit.cn/blogimages/java/javaSE/15606076172850-javaSE.jpeg"></p>
<p>集合元素遍历。</p>
<p>并发修改异常(ConcurrentModificationException)</p>
<p>当遍历集合时，删除某集合元素会触发该异常。如果要遍历时删除集合元素，必须使用迭代器。</p>
<p>实现<code>Interface Iterator&lt;E&gt;</code>接口的类可以调用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">	list.add(<span class="string">"1"</span>);</span><br><span class="line">	list.add(<span class="string">"2"</span>);</span><br><span class="line">	list.add(<span class="string">"3"</span>);</span><br><span class="line">	list.add(<span class="string">"4"</span>);</span><br><span class="line">	list.add(<span class="string">"5"</span>);</span><br><span class="line">	<span class="comment">// 获得迭代器对象 遍历删除对象只能用迭代器删除</span></span><br><span class="line">	Iterator&lt;String&gt; it = list.iterator();</span><br><span class="line">	<span class="keyword">while</span> (it.hasNext()) &#123;</span><br><span class="line">		String ele = it.next();</span><br><span class="line">		<span class="keyword">if</span> (ele.equals(<span class="string">"1"</span>)) &#123;</span><br><span class="line">			list.remove(ele);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Set接口"><a href="#Set接口" class="headerlink" title="Set接口"></a>Set接口</h2><hr>
<p>Set是 Collection 子接口，Set接口定义了一种规范，该容器不记录元素的添加顺序，不允许元素重复。</p>
<p>常用实现类：</p>
<ul>
<li>HashSet类：底层采用哈希表实现，开发中使用最多的实现类。</li>
<li>TreeSet类：底层采用红黑树实现，可以对集合中的元素排序，使用不多。</li>
</ul>
<h3 id="HashSet"><a href="#HashSet" class="headerlink" title="HashSet"></a>HashSet</h3><hr>
<p>详见<a href="https://www.lizhaoloveit.cn/2019/06/19/HashMap%E5%BA%95%E5%B1%82%E8%AE%BE%E8%AE%A1%E5%AE%9E%E7%8E%B0/" target="_blank" rel="noopener">HashMap实现原理</a></p>
<p>底层采用哈希表实现，元素对象的 hashCode值决定了在哈希表中的存储位置。</p>
<p>当，往 HashSet 中添加新元素时，会先判断该对象的 hashCode 和 集合对象中的 hashCode 值进行比较。</p>
<ul>
<li>相等：再继续判断新对象和集合对象中的 equals 比较<ul>
<li>true 视为同一个对象，则不保存。</li>
<li>false 存储之前对象同槽位的链表上。</li>
</ul>
</li>
<li>不等：直接把该对象存储到 hashCode 指定的位置。</li>
</ul>
<p>哈希表中元素对象的 hashCode 和 equals 方法很重要</p>
<p>每一个存储到哈希表中的对象，都得覆盖 <code>hashCode</code> 和 <code>equals</code> 方法来判断是否是同一对象，Eclipse可以根据对象哪些字段做比较而自动生成 <code>hashCode</code> 和 <code>equals</code> 方法。</p>
<p>一般的，equals 为 true 的时候 hashCode 也应该相等。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Set&lt;String&gt; set = <span class="keyword">new</span> HashSet&lt;String&gt;();</span><br><span class="line">set.add(<span class="string">"1"</span>);</span><br><span class="line">set.add(<span class="string">"2"</span>);</span><br><span class="line">set.add(<span class="string">"3"</span>);</span><br><span class="line">set.add(<span class="string">"4"</span>);</span><br><span class="line">set.add(<span class="string">"5"</span>);</span><br><span class="line"><span class="comment">// 查询操作</span></span><br><span class="line">set.size();</span><br><span class="line">set.contains(<span class="string">"3"</span>);</span><br><span class="line"><span class="comment">// 删除操作</span></span><br><span class="line">set.remove(<span class="string">"1"</span>);</span><br><span class="line"><span class="keyword">for</span> (String string : set) &#123;</span><br><span class="line">	System.out.println(string);</span><br><span class="line">&#125;</span><br><span class="line">	</span><br><span class="line"><span class="comment">// 使用迭代器遍历</span></span><br><span class="line">Iterator&lt;String&gt; it = set.iterator();</span><br><span class="line"><span class="keyword">while</span> (it.hasNext()) &#123;</span><br><span class="line">	String ele = it.next();</span><br><span class="line">	System.out.println(ele);</span><br><span class="line">&#125;</span><br><span class="line">Integer[] i = <span class="keyword">new</span> Integer[] &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;;</span><br><span class="line">List&lt;Integer&gt; list1 = Arrays.asList(i);</span><br></pre></td></tr></table></figure>
<h3 id="TreeSet"><a href="#TreeSet" class="headerlink" title="TreeSet"></a>TreeSet</h3><hr>
<p>TreeSet 除了支持实现接口<code>Comparable</code>的类排序以外，还可以自定义排序器</p>
<p>排序器类需要实现接口 <code>Comparator&lt;T&gt;</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Comparator</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">compare</span><span class="params">(T o1, T o2)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>compare返回0表示两个对象为同一个对象，返回正数排前面， 返回负数排后面</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NameLengthComparator</span> <span class="keyword">implements</span> <span class="title">java</span>.<span class="title">util</span>.<span class="title">Comparator</span>&lt;<span class="title">User</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    Set&lt;User&gt; set = <span class="keyword">new</span> TreeSet&lt;&gt;(<span class="keyword">new</span> NameLengthComparator());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>HashSet 等值查询效率高， TreeSet 做范围查询效率高。</p>
<h2 id="Map-映射"><a href="#Map-映射" class="headerlink" title="Map 映射"></a>Map 映射</h2><hr>
<p><img src="https://www.lizhaoloveit.cn/blogimages/java/javaSE/15606076172851-javaSE.jpeg"></p>
<p>Map常用的API方法：</p>
<p>添加操作：</p>
<ol>
<li><code>boolean put(Object key, Object value)</code> 存储一个键值对</li>
<li><code>boolean putAll(Map m)</code> 把 m 中的所有键值对添加到当前Map中</li>
</ol>
<p>删除操作：</p>
<p><code>Object remove(Object key)</code> 从Map中删除指定key的键值对，并返回被删除的key对应的value</p>
<p>修改操作：</p>
<p>同添加操作，使用相同的key 不同的value即可</p>
<p>查询操作：</p>
<ol>
<li><code>int size()</code> 返回当前Map中键值对个数</li>
<li><code>boolean isEmpty()</code> 判断当前Map中键值对个数是否为0</li>
<li><code>Object get(Object key)</code> 返回Map中指定key对应的value值，如果不存在该key，返回null</li>
<li><code>boolean containsKey(Object key)</code> 判断Map中是否包含该Key</li>
<li><code>boolean containsValue(Object value)</code>判断Map中是否包含指定value</li>
<li><code>Set keySet()</code> 返回Map中所有key所组成的 Set集合</li>
<li><code>Collection values()</code> 返回Map中所有value所组成的Collection集合</li>
<li><code>Set&lt;Entry&gt;entrySet()</code> 返回Map中所有键值对所组成的Set集合</li>
</ol>
<h3 id="HashMap"><a href="#HashMap" class="headerlink" title="HashMap"></a>HashMap</h3><hr>
<p>HashMap底层基于哈希表算法，Map中存储的key对象的hashCode值决定了哈希表中的存储位置，因为Map中的key是Set，</p>
<p>map迭代</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.util.Map.Entry;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Map&lt;String, String&gt; map = <span class="keyword">new</span> HashMap&lt;String, String&gt;();</span><br><span class="line"></span><br><span class="line">		map.put(<span class="string">"g1"</span>, <span class="string">"王昭君"</span>);</span><br><span class="line">		map.put(<span class="string">"g2"</span>, <span class="string">"西施"</span>);</span><br><span class="line">		map.put(<span class="string">"g3"</span>, <span class="string">"貂蝉"</span>);</span><br><span class="line">		map.put(<span class="string">"g4"</span>, <span class="string">"杨玉环"</span>);</span><br><span class="line"></span><br><span class="line">		System.out.println(<span class="string">"map中有多少键值对："</span> + map.size());</span><br><span class="line"></span><br><span class="line">		System.out.println(<span class="string">"是否包含调查哦："</span> + map.containsValue(<span class="string">"貂蝉"</span>));</span><br><span class="line">		map.put(<span class="string">"g4"</span>, <span class="string">"小乔"</span>);</span><br><span class="line">		map.remove(<span class="string">"g4"</span>);</span><br><span class="line">		<span class="comment">// Map迭代 获取map中所有的key</span></span><br><span class="line">		Set&lt;String&gt; keys = map.keySet();</span><br><span class="line">		<span class="comment">// 获取Map中所有的value</span></span><br><span class="line">		Collection&lt;String&gt; values = map.values();</span><br><span class="line">		<span class="comment">// 获取map中所有的key-values</span></span><br><span class="line">		Set&lt;Entry&lt;String, String&gt;&gt; entrys = map.entrySet();</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (Entry&lt;String, String&gt; entry : entrys) &#123;</span><br><span class="line">			String key = entry.getKey();</span><br><span class="line">			String value = entry.getValue();</span><br><span class="line">			System.out.println(<span class="string">"key:"</span> + key + <span class="string">"---&gt;value:"</span> + value);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 统计一个字符串中每个字符的出现次数</span></span><br><span class="line">		String str = <span class="string">"ASWQSASDAWQEAASGVDZGDFGFDBCBVCNGHFIUYTGFBFDGDDFS"</span>;</span><br><span class="line">		Map&lt;Character, Integer&gt; map2 = <span class="keyword">new</span> HashMap&lt;Character, Integer&gt;();</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; str.length(); i++) &#123;</span><br><span class="line">			Character key = str.charAt(i);</span><br><span class="line">			<span class="keyword">if</span> (map2.containsKey(key)) &#123;</span><br><span class="line">				map2.put(key, map2.get(key) + <span class="number">1</span>);</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				map2.put(key, <span class="number">1</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		Set&lt;Entry&lt;Character, Integer&gt;&gt; entrys2 = map2.entrySet();</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (Entry&lt;Character, Integer&gt; entry : entrys2) &#123;</span><br><span class="line">			Character key = entry.getKey();</span><br><span class="line">			Integer value = entry.getValue();</span><br><span class="line">			System.out.println(<span class="string">"key:"</span> + key + <span class="string">"---&gt;value:"</span> + value);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="TreeMap"><a href="#TreeMap" class="headerlink" title="TreeMap"></a>TreeMap</h3><hr>
<p>TreeMap底层基于红黑树算法，key是Set，会对存储的key进行排序，和TreeSet一样</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Map&lt;String, Stirng&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        map.put(<span class="string">"girl4"</span>, <span class="string">"杨玉环"</span>);</span><br><span class="line">        map.put(<span class="string">"girl3"</span>, <span class="string">"王昭君"</span>);</span><br><span class="line">        map.put(<span class="string">"girl2"</span>, <span class="string">"西施"</span>);</span><br><span class="line">        map.put(<span class="string">"girl1"</span>, <span class="string">"貂蝉"</span>);</span><br><span class="line">        </span><br><span class="line">        map = <span class="keyword">new</span> TreeMap&lt;&gt;(map);</span><br><span class="line">        System.out.println(map);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="集合框架工具类"><a href="#集合框架工具类" class="headerlink" title="集合框架工具类"></a>集合框架工具类</h2><hr>
<p>Arrays类是数据工具类，有一个方法比较常用</p>
<p><code>public static &lt;T&gt; List &lt;T&gt; asList(T... a)</code> 该方法可以把一个Object数组转换为List集合</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> ArraysDemo &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 把 Integer[] 转换为 List&lt;Integer&gt;</span></span><br><span class="line">        List&lt;Integer&gt; list1 = Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">    &#125;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>通过Arrays.asList 方法得到的List对象的长度是固定的。</p>
<p>Collections 是集合的工具类，封装了 Set、List、Map操作的工具方法，比如拷贝、排序、搜索、比较大小等。</p>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><hr>
<p><img src="https://www.lizhaoloveit.cn/blogimages/java/javaSE/15606076172852-javaSE.jpeg"></p>
<h1 id="I-x2F-O"><a href="#I-x2F-O" class="headerlink" title="I&#x2F;O"></a>I&#x2F;O</h1><hr>
<h2 id="File类"><a href="#File类" class="headerlink" title="File类"></a>File类</h2><hr>
<p>文件和文件夹目录，表示磁盘中某个文件和文件夹的路径，用于文件的创建、删除、重命名、判断是否存在等方法。</p>
<ul>
<li>Unix:严格区分大小写，使用<code>/</code>来表示路径分隔符</li>
<li>Windows:默认情况下 不区分大小写，使用<code>\</code>分割目录路径，java中一个<code>\</code>表示转义，所以Windows系统中需要使用两个<code>\\</code>。</li>
</ul>
<p>常用方法：</p>
<ol>
<li><code>String getName()</code> 获取文件名称</li>
<li><code>String getPath()</code> 获取文件路径</li>
<li><code>String getAbsolutePath()</code> 获取文件的绝对路径</li>
<li><code>File getParentFile()</code> 获取上级目录文件</li>
<li><code>boolean exists()</code> 判断文件是否存在</li>
<li><code>boolean isFile()</code> 是否是文件</li>
<li><code>boolean isDirectory()</code> 判断是否是目录</li>
<li><code>boolean delete()</code> 删除文件</li>
<li><code>boolean mkdirs()</code> 创建当前目录和上级目录</li>
<li><code>File[] listFiles()</code> 列出所有文件对象</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileDemo</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		File f = <span class="keyword">new</span> File(<span class="string">"/Users/Ammar/Desktop/sddd/123.txt"</span>);</span><br><span class="line">		System.out.println(f.getName()); <span class="comment">// 123.txt</span></span><br><span class="line">		System.out.println(f.getPath()); <span class="comment">// /Users/Ammar/Desktop/123.txt</span></span><br><span class="line">		System.out.println(f.getAbsolutePath()); <span class="comment">// /Users/Ammar/Desktop/123.txt</span></span><br><span class="line">		System.out.println(f.getParentFile().getName()); <span class="comment">// Desktop</span></span><br><span class="line">		System.out.println(f.exists());</span><br><span class="line">		System.out.println(f.isFile());</span><br><span class="line">		System.out.println(f.isDirectory());</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span> (!f.getParentFile().exists()) &#123;</span><br><span class="line">			f.getParentFile().mkdirs();</span><br><span class="line">		&#125; </span><br><span class="line">		</span><br><span class="line">		File[] fs = f.getParentFile().getParentFile().listFiles();</span><br><span class="line">		<span class="keyword">for</span> (File file : fs) &#123;</span><br><span class="line">			System.out.println(file);</span><br><span class="line">		&#125;</span><br><span class="line">		list(f.getParentFile().getParentFile());</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">list</span><span class="params">(File file)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (file.isDirectory()) &#123;</span><br><span class="line">			<span class="comment">// 如果是文件夹，继续列出</span></span><br><span class="line">			File[] files = file.listFiles();</span><br><span class="line">			<span class="keyword">if</span> (files != <span class="keyword">null</span>) &#123;</span><br><span class="line">				<span class="keyword">for</span> (File file2 : files) &#123;</span><br><span class="line">					list(file2);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(file);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="字符编码"><a href="#字符编码" class="headerlink" title="字符编码"></a>字符编码</h2><hr>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.UnsupportedEncodingException;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CodeDemo</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> UnsupportedEncodingException </span>&#123;</span><br><span class="line">		String ISO = <span class="string">"ISO-8859-1"</span>;</span><br><span class="line">		String utf = <span class="string">"UTF-8"</span>;</span><br><span class="line">		String name = <span class="string">"李朝"</span>;</span><br><span class="line">		<span class="comment">// String -&gt; byte[] // 编码操作</span></span><br><span class="line">		<span class="keyword">byte</span>[] data = name.getBytes(utf);</span><br><span class="line">		System.out.println(Arrays.toString(data)); <span class="comment">// 打印二进制数据数组</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 解码操作 byte[] -&gt; String</span></span><br><span class="line">		String result = <span class="keyword">new</span> String(data, ISO);</span><br><span class="line">		System.out.println(result);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 重新编码</span></span><br><span class="line">		data = result.getBytes(ISO);</span><br><span class="line">		System.out.println(Arrays.toString(data));</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 重新解码</span></span><br><span class="line">		result = <span class="keyword">new</span> String(data, utf);</span><br><span class="line">		System.out.println(result);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：GBK 和 utf-8 编码，本身都有对第一个字节的头几个位有要求，必须是1，中文是3个字节，因此必须是  111xxxxx  ，因此，有规范的不同，导致 GBK 和 utf-8 无法互相无损转换。</p>
</blockquote>
<h2 id="IO流操作"><a href="#IO流操作" class="headerlink" title="IO流操作"></a>IO流操作</h2><hr>
<ul>
<li>读取数据：文件——-&gt;程序， 输入操作</li>
<li>保存数据：程序——-&gt;文件， 输出操作</li>
</ul>
<p>按流动方向：输入流和输出流</p>
<p>按数据传输单位：字节流和字符流，每次传递一个字节 byte 或 一个字符 char</p>
<p>按功能上划分：分为节点流和处理流，节点流功能单一，处理流功能更强</p>
<p>输入操作：read<br>输出操作：write</p>
<table>
<thead>
<tr>
<th>流向</th>
<th>字节流(单位是字节)</th>
<th>字符流(单位是字符)</th>
</tr>
</thead>
<tbody><tr>
<td>输入流</td>
<td>InputStream</td>
<td>Reader</td>
</tr>
<tr>
<td>输出流</td>
<td>OutputStream</td>
<td>Writer</td>
</tr>
</tbody></table>
<blockquote>
<p>操作UI流的模板：</p>
</blockquote>
<ol>
<li><p>创建源或者目标对象(挖井)</p>
<ul>
<li>输入操作：把文件中的数据流向到程序中，此文件是源，程序是目标</li>
<li>输出操作：把程序中的数据流向到文件中，此文件是目标，程序是源</li>
</ul>
</li>
<li><p>创建IO流对象(水管)</p>
<ul>
<li>输入操作：创建输入流对象</li>
<li>输出操作：创建输出流对象</li>
</ul>
</li>
<li><p>具体的IO操作</p>
<ul>
<li>输入操作：输入流对象的read方法</li>
<li>输出操作：输出流对象的write方法</li>
</ul>
</li>
<li><p>关闭资源(勿忘)，一旦资源关闭之后，就不能使用流对象了。否则报错</p>
<ul>
<li>输入操作：输入流对象.close()</li>
<li>输出操作：输出流对象.close()</li>
</ul>
</li>
</ol>
<blockquote>
<p>四大抽象流是不能创建对象的，根据不同的需求创建他们不同的子类对象。比如操作文件时，使用文件流<br>不管什么流，操作完毕必须调用 <code>close</code> 方法，释放资源</p>
</blockquote>
<h3 id="FileOutputStream"><a href="#FileOutputStream" class="headerlink" title="FileOutputStream"></a>FileOutputStream</h3><hr>
<p>继承 OutputStream</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WriteDemo</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		<span class="comment">/**</span></span><br><span class="line"><span class="comment">		 * 使用文件字节输出流，把程序中的数据保存到123.txt文件</span></span><br><span class="line"><span class="comment">		 */</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 1. 创建源或者目标对象</span></span><br><span class="line">		File dest = <span class="keyword">new</span> File(<span class="string">"/Users/Ammar/Desktop/sddd/123.txt"</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 2. 创建IO流对象</span></span><br><span class="line">		FileOutputStream out = <span class="keyword">new</span> FileOutputStream(dest);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 3.具体的IO操作</span></span><br><span class="line">		out.write(<span class="number">65</span>); <span class="comment">// 输出A</span></span><br><span class="line">		out.write(<span class="number">66</span>); <span class="comment">// 输出B</span></span><br><span class="line">		out.write(<span class="number">67</span>); <span class="comment">// 输出C</span></span><br><span class="line">		String str = <span class="string">"李朝"</span>;</span><br><span class="line">		out.write(str.getBytes(<span class="string">"UTF-8"</span>));</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 4关闭资源</span></span><br><span class="line">		out.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="FileInputStream"><a href="#FileInputStream" class="headerlink" title="FileInputStream"></a>FileInputStream</h3><hr>
<p>继承 InputStream</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReadDemo</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		<span class="comment">// 1. 创建源或者目标对象</span></span><br><span class="line">		File src = <span class="keyword">new</span> File(<span class="string">"/Users/Ammar/Desktop/sddd/123.txt"</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 2. 创建IO 流对象</span></span><br><span class="line">		FileInputStream input = <span class="keyword">new</span> FileInputStream(src);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 3.具体的IO操作</span></span><br><span class="line">		System.out.println((<span class="keyword">char</span>)input.read()); <span class="comment">// A</span></span><br><span class="line">		System.out.println((<span class="keyword">char</span>)input.read());	<span class="comment">// B</span></span><br><span class="line">		System.out.println((<span class="keyword">char</span>)input.read()); <span class="comment">// C</span></span><br><span class="line">		</span><br><span class="line">		<span class="keyword">while</span> (input.read() != -<span class="number">1</span>) &#123;</span><br><span class="line">			System.out.print(input.read());</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">byte</span>[] buff = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">5</span>];</span><br><span class="line">		<span class="keyword">int</span> len = input.read(buff);</span><br><span class="line">		System.out.println(Arrays.toString(buff));</span><br><span class="line">		System.out.println(len);</span><br><span class="line">		<span class="comment">// 4 关闭资源</span></span><br><span class="line">		input.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="FileWriter"><a href="#FileWriter" class="headerlink" title="FileWriter"></a>FileWriter</h3><hr>
<p>继承 OutputStreamWriter</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileWriterDemo</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		<span class="comment">// 1. 创建源或者目标文件对象</span></span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"/Users/Ammar/Desktop/sddd/123.txt"</span>);</span><br><span class="line">		<span class="comment">// 2. 创建IO流对象</span></span><br><span class="line">		FileWriter fw = <span class="keyword">new</span> FileWriter(file);</span><br><span class="line">		<span class="comment">// 3. 具体的IO操作 会将文件覆盖</span></span><br><span class="line">		fw.write(<span class="string">'辛'</span>);</span><br><span class="line">		fw.write(<span class="string">'弃'</span>);</span><br><span class="line">		fw.write(<span class="string">'疾'</span>);</span><br><span class="line">		String str = <span class="string">"众里寻他千百度，蓦然回首，那人却在灯火阑珊处"</span>;</span><br><span class="line">		fw.write(str);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 4. 关闭资源</span></span><br><span class="line">		fw.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="FileReader"><a href="#FileReader" class="headerlink" title="FileReader"></a>FileReader</h3><hr>
<p>继承 InputStreamReader</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileReaderDemo</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		<span class="comment">// 1.创建源或者目标文件</span></span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"/Users/Ammar/Desktop/sddd/123.txt"</span>);</span><br><span class="line">		<span class="comment">// 2.创建IO流对象</span></span><br><span class="line">		FileReader fr = <span class="keyword">new</span> FileReader(file);</span><br><span class="line">		<span class="comment">// 3.IO操作</span></span><br><span class="line"><span class="comment">//		System.out.println((char)fr.read());</span></span><br><span class="line">		<span class="keyword">while</span> (fr.read() != -<span class="number">1</span>) &#123;</span><br><span class="line">			System.out.println((<span class="keyword">char</span>)fr.read());</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 4.关闭源</span></span><br><span class="line">		fr.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>记事本打开某个文件，如果可以看到内容就是文本文件，否则可以暂时认为是二进制文件</p>
<p>操作二进制文件(图片、音频、视频) 必须使用字节流，操作文本文件使用字符流，尤其是操作带有中文的文件，使用字符流不容易导致乱码，如果不清楚属于哪一类型文件，都可以使用字节流。</p>
<h3 id="需求：文件拷贝"><a href="#需求：文件拷贝" class="headerlink" title="需求：文件拷贝"></a>需求：文件拷贝</h3><hr>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">copy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="comment">// 1. 创建源或者目标对象</span></span><br><span class="line">		File src = <span class="keyword">new</span> File(<span class="string">"/Users/Ammar/Desktop/sddd/copy_before.txt"</span>);</span><br><span class="line">		File des = <span class="keyword">new</span> File(<span class="string">"/Users/Ammar/Desktop/sddd/copy_after.txt"</span>);</span><br><span class="line">		<span class="comment">// 2. 创建IO流对象</span></span><br><span class="line">		FileReader in = <span class="keyword">null</span>;</span><br><span class="line">		FileWriter out = <span class="keyword">null</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			in = <span class="keyword">new</span> FileReader(src);</span><br><span class="line">			out = <span class="keyword">new</span> FileWriter(des);</span><br><span class="line">			<span class="comment">// 3. 执行IO操作</span></span><br><span class="line">			<span class="keyword">int</span> length = -<span class="number">1</span>; <span class="comment">// 先设置为-1</span></span><br><span class="line">			<span class="keyword">char</span>[] buff = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">1024</span>]; <span class="comment">// 缓存区域</span></span><br><span class="line">			<span class="comment">// 第一次读取</span></span><br><span class="line">			length = in.read(buff);</span><br><span class="line">			<span class="keyword">while</span> (length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">				out.write(buff, <span class="number">0</span>, length); <span class="comment">// 缓存区域 从 0  写到 length</span></span><br><span class="line">				length = in.read(buff); <span class="comment">// 继续读</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				<span class="keyword">if</span> (out != <span class="keyword">null</span>) &#123;</span><br><span class="line">					out.close();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125; <span class="keyword">catch</span> (Exception e2) &#123;</span><br><span class="line">				e2.printStackTrace();</span><br><span class="line">			&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    			<span class="keyword">try</span> &#123;</span><br><span class="line">    				<span class="keyword">if</span> (in != <span class="keyword">null</span>) &#123;</span><br><span class="line">    					<span class="comment">// 4.关闭源</span></span><br><span class="line">    					in.close();</span><br><span class="line">    				&#125;</span><br><span class="line">    			&#125; <span class="keyword">catch</span> (Exception e2) &#123;</span><br><span class="line">    				e2.printStackTrace();</span><br><span class="line">    			&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		copy();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="缓冲流"><a href="#缓冲流" class="headerlink" title="缓冲流"></a>缓冲流</h2><hr>
<p><code>new 流类A(new 流类B)</code>  四大基流都有各自的包装流</p>
<p><code>BufferedInputStream，BufferedOutputStream，BufferedReader， BufferedWriter</code></p>
<p>非常重要的包装流——缓冲流</p>
<p>节点流的功能都比较单一，且性能较低，处理流，也称为包装流—装饰实际模式，详见[二十六种设计模式]</p>
<p>缓冲流内置了一个默认大小为8192字节或者字符的缓存区，缓冲区的作用用来减少磁盘的IO操作，拿字节缓冲流举例，比如一次性读取8192个字节到内存中，或者存满8192个字节再输出到磁盘中。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.lizhaoloveit._IO._缓冲流;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// 1. 创建源或者目标文件</span></span><br><span class="line">		File src = <span class="keyword">new</span> File(<span class="string">"/Users/Ammar/Desktop/sddd/copy_before.mp4"</span>);</span><br><span class="line">		File des = <span class="keyword">new</span> File(<span class="string">"/Users/Ammar/Desktop/sddd/copy_after.mp4"</span>);</span><br><span class="line">		<span class="comment">// 2. 创建IO流对象</span></span><br><span class="line">		BufferedInputStream in = <span class="keyword">null</span>;</span><br><span class="line">		BufferedOutputStream out = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			in = <span class="keyword">new</span> BufferedInputStream(<span class="keyword">new</span> FileInputStream(src), <span class="number">8192</span>);</span><br><span class="line">			out = <span class="keyword">new</span> BufferedOutputStream(<span class="keyword">new</span> FileOutputStream(des), <span class="number">8192</span>);</span><br><span class="line">			<span class="comment">// 3. IO流操作</span></span><br><span class="line">			<span class="comment">// 缓存区</span></span><br><span class="line">			<span class="keyword">int</span> len = -<span class="number">1</span>;</span><br><span class="line">			<span class="keyword">byte</span>[] buff = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">			len = in.read(buff);</span><br><span class="line">			<span class="keyword">while</span> (len &gt; <span class="number">0</span>) &#123;</span><br><span class="line">				out.write(buff, <span class="number">0</span>, len);</span><br><span class="line">				len = in.read(buff);</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    		<span class="comment">// 4. 关闭源</span></span><br><span class="line">    		<span class="keyword">try</span> &#123;</span><br><span class="line">    			in.close();</span><br><span class="line">    		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">    			e.printStackTrace();</span><br><span class="line">    		&#125;</span><br><span class="line">    		<span class="keyword">try</span> &#123;</span><br><span class="line">    			out.close();</span><br><span class="line">    		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">    			e.printStackTrace();</span><br><span class="line">    		&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="对象序列化"><a href="#对象序列化" class="headerlink" title="对象序列化"></a>对象序列化</h2><hr>
<p>序列化，把Java堆内存中的对象数据，通过某种方式把兑现该数据存储到磁盘文件中。序列化在分布式系统中应用非常广泛</p>
<p>反序列化，把磁盘文件中的对象的数据或者把网络节点上的对象数据恢复成Java对象的过程</p>
<p>需要做序列化的类必须实现序列化接口：java.io.Serializable</p>
<p>可以通过IO中的对象流来做序列化和反序列化操作。</p>
<p>ObjectOutputStream：通过writeObject方法做序列化操作<br>ObjectInputStream：通过readObject方法做反序列化操作</p>
<p>如果字段使用 transient 修饰则不会被序列化</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.lizhaoloveit._IO._serializable;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectOutputStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"/Users/Ammar/Desktop/sddd/obj.txt"</span>);</span><br><span class="line">		ObjectOutputStream out = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			out = <span class="keyword">new</span> ObjectOutputStream(<span class="keyword">new</span> FileOutputStream(file));</span><br><span class="line">			User u = <span class="keyword">new</span> User(<span class="string">"Will"</span>, <span class="string">"1111"</span>, <span class="number">17</span>);</span><br><span class="line">			out.writeObject(u);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    		<span class="keyword">try</span> &#123;</span><br><span class="line">    			<span class="keyword">if</span> (out != <span class="keyword">null</span>) &#123;</span><br><span class="line">    				out.close();</span><br><span class="line">    			&#125;</span><br><span class="line">    		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">    			e.printStackTrace();</span><br><span class="line">    		&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	</span><br><span class="line">		</span><br><span class="line">		ObjectInputStream in = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			in = <span class="keyword">new</span> ObjectInputStream(<span class="keyword">new</span> FileInputStream(file));</span><br><span class="line">			Object obj = in.readObject();</span><br><span class="line">			<span class="comment">// User [name=Will, password=null, age=17]</span></span><br><span class="line">			System.out.println(obj);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    		<span class="keyword">try</span> &#123;</span><br><span class="line">    			<span class="keyword">if</span> (in != <span class="keyword">null</span>) &#123;</span><br><span class="line">    				in.close();</span><br><span class="line">    			&#125;</span><br><span class="line">    		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">    			e.printStackTrace();</span><br><span class="line">    		&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="序列化版本问题"><a href="#序列化版本问题" class="headerlink" title="序列化版本问题"></a>序列化版本问题</h3><hr>
<p>当类实现 Serializable 接口后，编译时会根据字段生成一个缺省的 serialVersionUID值，并在序列化操作时，写到序列化数据文件中。</p>
<p>随着项目升级系统的class文件也会升级，此时从新编译，serialVersionUID值又会改变，所以在反序列化时，JVM会把对象数据中的 serialVersionUID 与本地字节码中的 serialVersionUID 进行比较，如果不同，意味着版本不同，会报异常 InvalidCastException。 类版本不对应，不能反序列化。如果版本号相同 则可以反序列化。</p>
<p>图</p>
<p>为了避免代码版本升级造成反序列化不兼容，开发中可以故意在类中提供一个固定的 serialVersionUID值。</p>
<h2 id="打印流"><a href="#打印流" class="headerlink" title="打印流"></a>打印流</h2><hr>
<p>打印流是一种特殊的输出流，可以输出任意类型的数据，可以作为处理流包装一个平台的节点流使用</p>
<ul>
<li>PrintStream 字节打印流</li>
<li>PrintWriter 字符打印流</li>
</ul>
<p>print方法，打印不换行，</p>
<p>println方法，打印后换行。</p>
<h2 id="标准IO"><a href="#标准IO" class="headerlink" title="标准IO"></a>标准IO</h2><hr>
<p>通过键盘输入 称为标准输入</p>
<p>通过屏幕上显示程序数据称为 标准输出</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    Scanner sc = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">    <span class="keyword">while</span> (sc.hasNextLine()) &#123;</span><br><span class="line">        String line = sc.nextLine();</span><br><span class="line">        System.out.println(<span class="string">"ECHO:"</span> + line);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>综合练习：</p>
<p>输出文件中的代码行数：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">lineCountOfFilePath</span><span class="params">(String filePath)</span> </span>&#123;</span><br><span class="line">	File file = <span class="keyword">new</span> File(filePath);</span><br><span class="line">	<span class="keyword">int</span> count = <span class="number">0</span>; <span class="comment">// 记录行数</span></span><br><span class="line">	<span class="comment">// 如果file是个文件夹 则遍历子文件</span></span><br><span class="line">	<span class="keyword">if</span> (file.isDirectory()) &#123;</span><br><span class="line">		File[] fileList = file.listFiles();</span><br><span class="line">		<span class="keyword">for</span> (File f : fileList) &#123;</span><br><span class="line">			count += lineCountOfFilePath(f.getAbsolutePath());</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="comment">// 如果file不是文件夹，则判断其是否是.java文件</span></span><br><span class="line">		<span class="keyword">if</span> (file.getName().contains(<span class="string">".java"</span>)) &#123;</span><br><span class="line">			Integer fileCount = lineCountOfFile(filePath);</span><br><span class="line">			<span class="keyword">if</span> (fileCount != <span class="keyword">null</span>) &#123;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					Thread.sleep(<span class="number">15</span>);</span><br><span class="line">				&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">				System.out.println(<span class="string">"File:"</span> + file.getAbsolutePath() + <span class="string">", "</span> + fileCount + <span class="string">"行。"</span>);</span><br><span class="line">				count += fileCount;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Integer <span class="title">lineCountOfFile</span><span class="params">(String filePath)</span> </span>&#123;</span><br><span class="line">	<span class="comment">// 创建源或者目标文件</span></span><br><span class="line">	<span class="comment">// 创建IO流对象并执行IO操作</span></span><br><span class="line">	File file = <span class="keyword">new</span> File(filePath);</span><br><span class="line">	BufferedReader in = <span class="keyword">null</span>;</span><br><span class="line">	<span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">try</span> &#123;</span><br><span class="line">		in = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> FileReader(file));</span><br><span class="line">		<span class="keyword">while</span> (in.readLine() != <span class="keyword">null</span>) &#123;</span><br><span class="line">			<span class="comment">// readLine()方法是按行读的，返回值是这行的内容</span></span><br><span class="line">			count++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">		e.printStackTrace();</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">	&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    	<span class="comment">// 关闭源</span></span><br><span class="line">    	<span class="keyword">try</span> &#123;</span><br><span class="line">    		<span class="keyword">if</span> (in != <span class="keyword">null</span>) &#123;</span><br><span class="line">    			in.close();</span><br><span class="line">    		&#125;</span><br><span class="line">    	&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">    		e.printStackTrace();</span><br><span class="line">    		<span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    	&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="AutoClose"><a href="#AutoClose" class="headerlink" title="AutoClose"></a>AutoClose</h2><hr>
<hr>
<p>java 1.7 以后的新语法，实现 AutoCloseAble 接口的流对象都可使用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		File file = <span class="keyword">new</span> File(<span class="string">"/Users/Ammar/Desktop/sddd/copy_before.txt"</span>);</span><br><span class="line">		<span class="comment">// 存放在 ()里的对象，必须实现 autoCloseAble 接口，可以不用去手动关闭资源</span></span><br><span class="line">		<span class="keyword">try</span> (FileReader in = <span class="keyword">new</span> FileReader(file); FileWriter out = <span class="keyword">new</span> FileWriter(file);) &#123;</span><br><span class="line">			<span class="comment">// 3. 执行IO操作</span></span><br><span class="line">			<span class="keyword">int</span> length = -<span class="number">1</span>; <span class="comment">// 先设置为-1</span></span><br><span class="line">			<span class="keyword">char</span>[] buff = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">1024</span>]; <span class="comment">// 缓存区域</span></span><br><span class="line">			<span class="comment">// 第一次读取</span></span><br><span class="line">			length = in.read(buff);</span><br><span class="line">			<span class="keyword">while</span> (length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">				out.write(buff, <span class="number">0</span>, length); <span class="comment">// 缓存区域 从 0 写到 length</span></span><br><span class="line">				length = in.read(buff); <span class="comment">// 继续读</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="动态编程和可配置文件"><a href="#动态编程和可配置文件" class="headerlink" title="动态编程和可配置文件"></a>动态编程和可配置文件</h1><hr>
<p>使用场景：一个类的成员变量是可变的，不能写死一个类。(硬编码：写死的代码，需要经常改动。)</p>
<p>解决方案，使用一个 a.txt ，其内容为 <code>username=zhangsan1password=123</code>，这个文件就是可配置文件。</p>
<p>配置文件可以解决硬编码。应用场景：框架中大量使用。</p>
<h2 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h2><hr>
<p>习惯使用两种配置文件：</p>
<ol>
<li><p>properties 文件 &#x2F; 属性文件 &#x2F; 资源文件 &#x2F; 配置文件</p>
<ul>
<li>以 properties 作为文件名的后缀名，可以存储 key &#x3D; value 结构的简单数据。</li>
</ul>
</li>
<li><p>XML 文件，树状结构，存储复杂数据</p>
</li>
</ol>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;user&gt;</span><br><span class="line">    &lt;user&gt;</span><br><span class="line">    &lt;/user&gt;</span><br><span class="line">&lt;/user&gt;</span><br></pre></td></tr></table></figure>

<h2 id="properties-文件的数据存储"><a href="#properties-文件的数据存储" class="headerlink" title="properties 文件的数据存储"></a>properties 文件的数据存储</h2><hr>
<p>基本语法：</p>
<ol>
<li>配置文件需要跟随字节码，放在 resource 文件夹中，</li>
<li>配置文件夹中，所有的数据都是字符串类型，而且不需要引号</li>
<li>配置文件中，不适用空格</li>
</ol>
<blockquote>
<p>使用#表示注释内容<br>存储数据格式key&#x3D;value<br>不用空格，多个属性另起一行</p>
</blockquote>
<p><img src="https://www.lizhaoloveit.cn/blogimages/java/javaSE/15618928465747-javaSE.jpg"></p>
<h3 id="properties-文件解析"><a href="#properties-文件解析" class="headerlink" title="properties 文件解析"></a>properties 文件解析</h3><hr>
<p><img src="https://www.lizhaoloveit.cn/blogimages/java/javaSE/15618929097821-javaSE.jpg"></p>
<p>properties 是 Map 的实现类，Properties 文件比较特殊，使用 Properties 新增的方法</p>
<p><strong>Source Folder</strong> 名字就叫 resources</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 通过输入流加载配置文件中的内容</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">load</span><span class="params">(InputStream inStream)</span></span></span><br><span class="line"><span class="function"><span class="comment">// 通过属性名获取属性值</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getProperty</span><span class="params">(String key)</span></span></span><br></pre></td></tr></table></figure>
<p><img src="https://www.lizhaoloveit.cn/blogimages/java/javaSE/15618931249169-javaSE.jpg"></p>
<p>使用相对路径加载资源文件 ，相对于字节码的输出路径</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testGetUser</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    Properties ps = <span class="keyword">new</span> Properties();</span><br><span class="line">    <span class="comment">// 1. 通过输入流，加载配置文件</span></span><br><span class="line">    Thread t = Thread.currentThread();</span><br><span class="line">    <span class="comment">// 获取上下文的类加载器</span></span><br><span class="line">    ClassLoader loader = t.getContextClassLoader();</span><br><span class="line">    <span class="comment">// 用类加载器加载文件</span></span><br><span class="line">    InputStream in = loader.getResourceAsStream(<span class="string">"user.properties"</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 数据通过 load 方法， 存储到 map 中</span></span><br><span class="line">    ps.load(in);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 2. 使用 Properties 对象 获取属性值</span></span><br><span class="line">    String username = ps.getProperty(<span class="string">"username"</span>);</span><br><span class="line">    String password = ps.getProperty(<span class="string">"password"</span>);</span><br><span class="line">    <span class="comment">// </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="使用配置文件创建对象"><a href="#使用配置文件创建对象" class="headerlink" title="使用配置文件创建对象"></a>使用配置文件创建对象</h3><hr>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">className=cn.lizhaoloveit.ps.Student</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSleep</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    <span class="comment">// 使用反射创建对象，可以实现只更改配置文件即可完成功能不用修改源码</span></span><br><span class="line">    InputStream in = Thread.currentThread().getContextClassLoader().getResourceAsStream(<span class="string">"person.properties"</span>);</span><br><span class="line">    Properties ps = <span class="keyword">new</span> Properties();</span><br><span class="line">    ps.load(in);</span><br><span class="line">    Person p = (Person) Class.forName(ps.getProperty(<span class="string">"className"</span>).newInstance();</span><br><span class="line">    p.sleep(); <span class="comment">// 调用方法</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>反射的优势：</p>
<ol>
<li>提高程序灵活性和扩展性</li>
<li>降低耦合性，提高自适应能力</li>
<li>允许程序创建和控制任何类，无需提前编码目标类</li>
</ol>
<p>缺点：</p>
<ol>
<li>性能：使用反射基本上是一种运行期间解析字节码操作，效率较低，一般程序不建议使用，对灵活性和拓展性要求较高的工具和框架上使用较多</li>
<li>代码复杂性：反射在运行时，程序员无法再源代码中看到程序的逻辑，反射代码比响应的直接代码更复杂，会带来维护的问题</li>
</ol>
<blockquote>
<p>反射是框架的基石。</p>
</blockquote>
<h2 id="XML概述"><a href="#XML概述" class="headerlink" title="XML概述"></a>XML概述</h2><hr>
<p>XML(eXtensible Markup Language)，一种可扩展的标记语言，用于传输数据。XML是一种通用的数据交换格式，很多系统配置文件都是 XML <strong>任意一个javaEE框架中都要用到 XML</strong></p>
<p><img src="https://www.lizhaoloveit.cn/blogimages/java/javaSE/15618973076266-javaSE.jpg"></p>
<p>XML 语法：</p>
<p><img src="https://www.lizhaoloveit.cn/blogimages/java/javaSE/15618974583146-javaSE.jpg"></p>
<blockquote>
<p>只能有一个根标签</p>
</blockquote>
<h2 id="XML-文档结构"><a href="#XML-文档结构" class="headerlink" title="XML 文档结构"></a>XML 文档结构</h2><hr>
<p><img src="https://www.lizhaoloveit.cn/blogimages/java/javaSE/15618976810229-javaSE.jpg"></p>
<ol>
<li>把 XML 文档加载到内存中，使用 Document 对象来描述整个文档</li>
<li>所有的标签，使用 Element 描述</li>
<li>标签的属性，使用 Attr 来描述</li>
<li>其他文本内容 使用 Text 描述</li>
</ol>
<p><strong>所有的类有一个抽象的类 Node，在 XML 中一切皆节点</strong></p>
<h2 id="XML-约束"><a href="#XML-约束" class="headerlink" title="XML 约束"></a>XML 约束</h2><p>XML：可拓展的标记语言，可以自定义标签。</p>
<p>约束 XML：dtd 约束， schema 约束</p>
<p>dtd 约束、schema 约束 会告诉我们只能写哪些标签，哪些属性。</p>
<p>运用方式为：正则匹配</p>
<h2 id="DOM树-Document-Object-Model"><a href="#DOM树-Document-Object-Model" class="headerlink" title="DOM树(Document Object Model)"></a>DOM树(Document Object Model)</h2><hr>
<p>基于 DOM 的 XML 分析器将一个 XML 文档转换成一个对象模型的集合，称为 DOM 树。</p>
<blockquote>
<p>优点：树状结构，有助于理解，代码更容易编写，解析过程中，树状结构保存在内存中，方便修改<br>缺点：一次性读取，内存耗费较大，容易内存溢出</p>
</blockquote>
<h3 id="获取DOM对象的步骤和过程"><a href="#获取DOM对象的步骤和过程" class="headerlink" title="获取DOM对象的步骤和过程"></a>获取DOM对象的步骤和过程</h3><hr>
<p><img src="https://www.lizhaoloveit.cn/blogimages/java/javaSE/15618982652241-javaSE.jpg"></p>
<h3 id="获取-XML-文件"><a href="#获取-XML-文件" class="headerlink" title="获取 XML 文件"></a>获取 XML 文件</h3><hr>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testGetXML</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">   <span class="comment">// 通过 parse(File file) 解析已有的 DOM 文档  </span></span><br><span class="line">	Document doc = DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(file);</span><br><span class="line">	System.out.println(doc);</span><br></pre></td></tr></table></figure>

<h3 id="创建-XML-文件"><a href="#创建-XML-文件" class="headerlink" title="创建 XML 文件"></a>创建 XML 文件</h3><hr>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">File file = <span class="keyword">new</span> File(<span class="string">"day02/contacts.xml"</span>);</span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testCreateNewDocument</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">	<span class="comment">// 1.创建一个新的空的 document 对象</span></span><br><span class="line">	Document doc = DocumentBuilderFactory.newInstance().newDocumentBuilder().newDocument();</span><br><span class="line">	<span class="comment">// 2.创建一个节点，作为根节点</span></span><br><span class="line">	Element root = doc.createElement(<span class="string">"contacts"</span>);</span><br><span class="line">	<span class="comment">// 3. 把新的节点添加到 document 上</span></span><br><span class="line">	doc.appendChild(root);</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 4. 创建xml文件并写入内容</span></span><br><span class="line">	Transformer trans = TransformerFactory.newInstance().newTransformer();</span><br><span class="line">	<span class="comment">// 设置xml文件换行</span></span><br><span class="line">	trans.setOutputProperty(OutputKeys.INDENT, <span class="string">"yes"</span>);</span><br><span class="line">	trans.transform(<span class="keyword">new</span> DOMSource(doc), <span class="keyword">new</span> StreamResult(file));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="新增联系人信息"><a href="#新增联系人信息" class="headerlink" title="新增联系人信息"></a>新增联系人信息</h3><hr>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testInsertNewElement</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">	Linkman man = <span class="keyword">new</span> Linkman(<span class="string">"2"</span>, <span class="string">"李朝"</span>, <span class="string">"18"</span>, <span class="string">"广州"</span>, <span class="string">"java"</span>, <span class="string">"lacuself@126.com"</span>);</span><br><span class="line">	<span class="comment">// 1.获取 Document 对象</span></span><br><span class="line">	Document doc = DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(file);</span><br><span class="line">	<span class="comment">// 2.获取根节点</span></span><br><span class="line">	Element root = doc.getDocumentElement();</span><br><span class="line">	<span class="comment">// 3.创建几个节点存储字段信息</span></span><br><span class="line">	Element linkmanE = doc.createElement(<span class="string">"linkman"</span>); <span class="comment">// 子节点</span></span><br><span class="line">	Element nameE = doc.createElement(<span class="string">"name"</span>); <span class="comment">// 子节点</span></span><br><span class="line">	Element ageE = doc.createElement(<span class="string">"age"</span>); <span class="comment">// 子节点</span></span><br><span class="line">	Element addressE = doc.createElement(<span class="string">"address"</span>); <span class="comment">// 子节点</span></span><br><span class="line">	Element courseE = doc.createElement(<span class="string">"course"</span>); <span class="comment">// 子节点</span></span><br><span class="line">	Element emailE = doc.createElement(<span class="string">"email"</span>); <span class="comment">// 子节点</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 4.设置标签的文本内容和节点的属性</span></span><br><span class="line">	linkmanE.setAttribute(<span class="string">"id"</span>, man.getId());</span><br><span class="line">	nameE.setTextContent(man.getName());</span><br><span class="line">	ageE.setTextContent(man.getAge());</span><br><span class="line">	addressE.setTextContent(man.getAddress());</span><br><span class="line">	courseE.setTextContent(man.getCourse());</span><br><span class="line">	emailE.setTextContent(man.getEmail());</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 5.设置层级关系</span></span><br><span class="line">	linkmanE.appendChild(nameE);</span><br><span class="line">	linkmanE.appendChild(ageE);</span><br><span class="line">	linkmanE.appendChild(addressE);</span><br><span class="line">	linkmanE.appendChild(courseE);</span><br><span class="line">	linkmanE.appendChild(emailE);</span><br><span class="line">	root.appendChild(linkmanE);</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 6.同步</span></span><br><span class="line">	Transformer transformer = TransformerFactory.newInstance().newTransformer();</span><br><span class="line">	Source xmlSource = <span class="keyword">new</span> DOMSource(doc); <span class="comment">// 数据在 doc 中</span></span><br><span class="line">	Result outputTarget = <span class="keyword">new</span> StreamResult(file);</span><br><span class="line">	transformer.transform(xmlSource, outputTarget);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="修改-XML-文件中的元素"><a href="#修改-XML-文件中的元素" class="headerlink" title="修改 XML 文件中的元素"></a>修改 XML 文件中的元素</h3><hr>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSetElement</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">	Document doc = DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(file);</span><br><span class="line">	Element root = doc.getDocumentElement();</span><br><span class="line">	<span class="comment">// 获取第一个联系人节点</span></span><br><span class="line">	Element linkmanE = (Element) root.getElementsByTagName(<span class="string">"linkman"</span>).item(<span class="number">0</span>);</span><br><span class="line">	<span class="comment">// 获取地址节点</span></span><br><span class="line">	Element addressE = (Element) linkmanE.getElementsByTagName(<span class="string">"address"</span>).item(<span class="number">0</span>);</span><br><span class="line">	addressE.setTextContent(<span class="string">"北京"</span>);</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 同步操作</span></span><br><span class="line">	Transformer transformer = TransformerFactory.newInstance().newTransformer();</span><br><span class="line">	transformer.transform(<span class="keyword">new</span> DOMSource(doc), <span class="keyword">new</span> StreamResult(file));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="删除-XML-文件中的元素"><a href="#删除-XML-文件中的元素" class="headerlink" title="删除 XML 文件中的元素"></a>删除 XML 文件中的元素</h3><hr>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testRemoveElement</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">	Document doc = DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(file);</span><br><span class="line">	Element root = doc.getDocumentElement();</span><br><span class="line">	<span class="comment">// 获取第一个联系人节点</span></span><br><span class="line">	Element linkmanE = (Element) root.getElementsByTagName(<span class="string">"linkman"</span>).item(<span class="number">0</span>);</span><br><span class="line">	<span class="comment">// 删除节点，需要获取当前节点的父节点，然后调用父节点的删除子节点方法</span></span><br><span class="line">	linkmanE.getParentNode().removeChild(linkmanE);</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 同步</span></span><br><span class="line">	Transformer transformer = TransformerFactory.newInstance().newTransformer();</span><br><span class="line">	transformer.transform(<span class="keyword">new</span> DOMSource(doc), <span class="keyword">new</span> StreamResult(file));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="查询-XML-中的节点和值"><a href="#查询-XML-中的节点和值" class="headerlink" title="查询 XML 中的节点和值"></a>查询 XML 中的节点和值</h3><hr>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testGetXML</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">	Document doc = DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(file);</span><br><span class="line">	<span class="comment">// 获取根节点</span></span><br><span class="line">	Element root = doc.getDocumentElement();</span><br><span class="line">	<span class="comment">// 根据根节点，获取第二个联系人节点</span></span><br><span class="line">	NodeList linkmanList = root.getElementsByTagName(<span class="string">"linkman"</span>);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; linkmanList.getLength(); i++) &#123;</span><br><span class="line">		System.out.println(linkmanList.item(i));</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 获取第一个联系人</span></span><br><span class="line">	Element ele = (Element) linkmanList.item(<span class="number">0</span>);</span><br><span class="line">	Element nameE = (Element) ele.getElementsByTagName(<span class="string">"name"</span>).item(<span class="number">0</span>);</span><br><span class="line">	String name = nameE.getTextContent();</span><br><span class="line">	System.out.println(name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Ammar</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://lizhaoloveit.cn/2019/05/15/JavaSE/">http://lizhaoloveit.cn/2019/05/15/JavaSE/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://lizhaoloveit.cn">Ammar's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Java/">Java    </a></div><div class="post_share"><div class="social-share" data-image="https://lizhaoloveit.cn/blogimages/blog/avatar.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-buttom"><i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lozad post-qr-code__img" data-src="/img/wechat.jpg"><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lozad post-qr-code__img" data-src="/img/alipay.jpg"><div class="post-qr-code__desc">支付宝</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull-left"><a href="/2019/06/18/%E4%BA%8C%E5%8D%81%E5%85%AD%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"><img class="prev_cover lozad" data-src="https://www.lizhaoloveit.cn/blogimages/blog/cover/1.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/2.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/3.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/4.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/5.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/6.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/7.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/8.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/9.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/10.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/11.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/12.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/13.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/14.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/15.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/16.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/17.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/18.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/19.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/20.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/21.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/22.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/23.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/24.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/25.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/26.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/27.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/28.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/29.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/31.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/32.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/33.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/34.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/35.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/36.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/37.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/38.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/39.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/40.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/41.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/42.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/43.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/44.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/45.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/46.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/47.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/48.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/49.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/50.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/51.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/52.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/53.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/54.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/55.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/56.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/57.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/58.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/59.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/60.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/62.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/63.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/64.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/65.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/66.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/67.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/68.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/69.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/70.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/71.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/72.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/73.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/74.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/75.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/76.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/77.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/78.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/79.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="label">上一篇</div><div class="prev_info"><span>二十六种设计模式</span></div></a></div><div class="next-post pull-right"><a href="/2019/04/15/%E5%A4%8D%E6%9D%82%E5%BA%A6/"><img class="next_cover lozad" data-src="https://www.lizhaoloveit.cn/blogimages/blog/cover/1.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/2.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/3.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/4.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/5.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/6.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/7.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/8.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/9.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/10.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/11.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/12.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/13.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/14.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/15.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/16.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/17.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/18.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/19.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/20.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/21.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/22.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/23.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/24.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/25.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/26.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/27.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/28.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/29.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/31.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/32.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/33.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/34.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/35.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/36.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/37.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/38.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/39.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/40.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/41.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/42.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/43.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/44.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/45.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/46.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/47.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/48.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/49.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/50.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/51.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/52.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/53.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/54.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/55.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/56.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/57.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/58.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/59.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/60.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/62.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/63.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/64.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/65.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/66.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/67.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/68.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/69.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/70.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/71.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/72.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/73.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/74.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/75.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/76.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/77.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/78.jpg,https://www.lizhaoloveit.cn/blogimages/blog/cover/79.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="label">下一篇</div><div class="next_info"><span>复杂度</span></div></a></div></nav><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i> <span>评论</span></div><div id="disqus_thread"></div><script>var unused = null;
var disqus_config = function () {
  this.page.url = 'http://lizhaoloveit.cn/2019/05/15/JavaSE/';
  this.page.identifier = '2019/05/15/JavaSE/';
  this.page.title = 'JavaSE';
}
var d = document, s = d.createElement('script');
s.src = "https://" + 'lizhao' +".disqus.com/embed.js";
s.setAttribute('data-timestamp', '' + +new Date());
(d.head || d.body).appendChild(s);</script></div></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2014 - 2024 By Ammar</div><div class="icp"><a href="https://beian.miit.gov.cn/" target="_blank" rel="noopener"><span>浙ICP备19013619号-1</span></a></div><div class="bag"><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33010502006128" target="_blank" rel="noopener"><img src="/img/beian.png"><span>浙公网安备 33010502006128号</span></a></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><section class="rightside" id="rightside"><i class="fa fa-book" id="readmode" title="阅读模式"> </i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换">繁</a><i class="far fa-moon nightshift" id="nightshift" title="夜间模式"></i></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script async src="/js/search/algolia.js"></script><script src="/js/nightshift.js"></script><script src="/js/tw_cn.js"></script><script>translateInitilization()

</script><script src="https://cdn.jsdelivr.net/npm/instant.page@1.2.2/instantpage.min.js" type="module"></script><div class="search-dialog" id="algolia-search"><div class="search-dialog__title" id="algolia-search-title">Algolia</div><div id="algolia-input-panel"><div id="algolia-search-input"></div></div><hr><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-stats"></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><!-- hexo-inject:begin --><!-- hexo-inject:end --></body></html>